<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='GoËØ≠Ë®ÄÂÜÖÂ≠òÂØπÈΩê„ÄÅÂÜÖÂ≠òÂàÜÈÖç„ÄÅÂûÉÂúæÂõûÊî∂„ÄÅÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÊ¶ÇÂøµÂèä‰ª£Á†ÅÂíåÈóÆÈ¢òÂàÜÊûê'><title>GoËØ≠Ë®Ä‚Äî‚ÄîÂÜÖÂ≠òÁÆ°ÁêÜ</title>

<link rel='canonical' href='https://zonzeeli.github.io/p/memory-management/'>

<link rel="stylesheet" href="/scss/style.min.450926226e724574a6b936335ea06111f8aeb253d932c86cb2cc807341cd2889.css"><meta property='og:title' content='GoËØ≠Ë®Ä‚Äî‚ÄîÂÜÖÂ≠òÁÆ°ÁêÜ'>
<meta property='og:description' content='GoËØ≠Ë®ÄÂÜÖÂ≠òÂØπÈΩê„ÄÅÂÜÖÂ≠òÂàÜÈÖç„ÄÅÂûÉÂúæÂõûÊî∂„ÄÅÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÊ¶ÇÂøµÂèä‰ª£Á†ÅÂíåÈóÆÈ¢òÂàÜÊûê'>
<meta property='og:url' content='https://zonzeeli.github.io/p/memory-management/'>
<meta property='og:site_name' content='Zonzee Li üë®‚Äçüíª'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='go' /><meta property='article:published_time' content='2022-06-13T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2022-06-13T00:00:00&#43;00:00'/><meta property='og:image' content='https://zonzeeli.github.io/p/memory-management/memorymanagement.jpg' />
<meta name="twitter:title" content="GoËØ≠Ë®Ä‚Äî‚ÄîÂÜÖÂ≠òÁÆ°ÁêÜ">
<meta name="twitter:description" content="GoËØ≠Ë®ÄÂÜÖÂ≠òÂØπÈΩê„ÄÅÂÜÖÂ≠òÂàÜÈÖç„ÄÅÂûÉÂúæÂõûÊî∂„ÄÅÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÊ¶ÇÂøµÂèä‰ª£Á†ÅÂíåÈóÆÈ¢òÂàÜÊûê"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://zonzeeli.github.io/p/memory-management/memorymanagement.jpg' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu77a3462afc37200b06a1519079618b2f_1084312_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üíª</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Zonzee Li üë®‚Äçüíª</a></h1>
            <h2 class="site-description">‰∏Ä‰∏™ËÄêÂøÉÂ≠¶‰π†ÁöÑÂ∞èÁ®ãÂ∫èÂëò„ÄÇËÆ∞ÂΩïÁîüÊ¥ªÔºå‰∫´ÂèóÁîüÊ¥ªÁöÑGopher„ÄÇ</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/ZonzeeLi'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                
                    
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about-me/' >
                
                
                    
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About me</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                
                    
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                
                    
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/memory-management/">
                <img src="/p/memory-management/memorymanagement_hu401943aa3a47c07a1760c3a69afc10a0_2088324_800x0_resize_q75_box.jpg"
                        srcset="/p/memory-management/memorymanagement_hu401943aa3a47c07a1760c3a69afc10a0_2088324_800x0_resize_q75_box.jpg 800w, /p/memory-management/memorymanagement_hu401943aa3a47c07a1760c3a69afc10a0_2088324_1600x0_resize_q75_box.jpg 1600w"
                        width="800" 
                        height="533" 
                        loading="lazy"
                        alt="Featured image of post GoËØ≠Ë®Ä‚Äî‚ÄîÂÜÖÂ≠òÁÆ°ÁêÜ" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/go/" >
                Go
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/memory-management/">GoËØ≠Ë®Ä‚Äî‚ÄîÂÜÖÂ≠òÁÆ°ÁêÜ</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            GoËØ≠Ë®ÄÂÜÖÂ≠òÂØπÈΩê„ÄÅÂÜÖÂ≠òÂàÜÈÖç„ÄÅÂûÉÂúæÂõûÊî∂„ÄÅÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÊ¶ÇÂøµÂèä‰ª£Á†ÅÂíåÈóÆÈ¢òÂàÜÊûê
        </h3>
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jun 13, 2022</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    6 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <h2 id="ÂâçË®Ä">ÂâçË®Ä</h2>
<p>‚ÄÉ‚ÄÉËøôÁØáÊñáÁ´†‰∏ªË¶ÅÊï¥Âêà‰∫Ü Go ËØ≠Ë®ÄÁöÑ‰∏Ä‰∫õÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÁü•ËØÜÔºåÂè™ÊòØÊµÖÊòæÁ¨ºÁªüÊ¶ÇÊã¨ÔºåÂπ∂‰∏îÁî®‰∏Ä‰∫õÈù¢ËØïÈ¢òÊù•ÊÄªÁªì„ÄÇ</p>
<p>Ê≥®Ôºö‰ª•‰∏ãÂÜÖÂÆπÂíåÂõæÁâáÂü∫Êú¨Êù•Ëá™ÂÖ¨‰ºóÂè∑ÔºöÁΩëÁÆ°Âè®biÂè®Ôºå‰∏Ä‰∏™ÊàëÁªèÂ∏∏ÁúãÁöÑÂçö‰∏ªÔºåÊé®ËçêÂÖ≥Ê≥®„ÄÇ</p>
<h3 id="ÂÜÖÂ≠òÂØπÈΩê">ÂÜÖÂ≠òÂØπÈΩê</h3>
<p>‚ÄÉ‚ÄÉÊàë‰ª¨ÁºñÁ®ãÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÂèòÈáèÂú®ÂÜÖÂ≠ò‰∏≠Â≠òÊîæÈÉΩÊåâÁÖß‰∏ÄÂÆöÁöÑËßÑÂàôÔºåËøôÈáå‰∏ªË¶Å‰ªãÁªçÁöÑÂ∞±ÊòØÂÜÖÂ≠òÂØπÈΩêÁöÑËßÑÂàôÔºå‰∏ãÈù¢‰∏∫ÁÆÄÂçïÊ¶ÇÊã¨ÔºåËØ¶ÊÉÖËßÅÊñáÁ´†<a class="link" href="https://zonzeeli.github.io/p/memory-alignment/"  target="_blank" rel="noopener"
    >GoËØ≠Ë®Ä‚Äî‚ÄîÂÜÖÂ≠òÂØπÈΩê</a></p>
<p>‚ÄÉ‚ÄÉÁêÜËÆ∫‰∏äËÆ°ÁÆóÊú∫ÂèØ‰ª•ËÆøÈóÆ‰ªªÊÑèÂú∞ÂùÄÁöÑÂèòÈáèÔºå‰ΩÜÊòØÂú®ËÆøÈóÆÁâπÂÆöÁ±ªÂûãÈÄöÂ∏∏Âú®ÁâπÂÆöÁöÑÂÜÖÂ≠òÂú∞ÂùÄ‰∏≠ÔºåÊï∞ÊçÆÂ≠òÊîæÂπ∂‰∏çÊòØÈöèÊÑèÂ≠òÊîæÔºåÊòØÊúâËßÑÂàôÁöÑÈ°∫Â∫èÔºåÊàë‰ª¨ËÉΩÂ§üÂàÜÊûêÂá∫ÔºåÂÜÖÂ≠òÂØπÈΩêÊòØ‰∏∫‰∫ÜËÉΩÂ§üÂø´ÈÄüËÆøÈóÆÂÜÖÂ≠òËøõË°åÊï∞ÊçÆÁöÑÂ≠òÂèñÔºå‰ΩÜÊòØ‰ºöÊ∂àËÄóÂÜÖÂ≠òÁ©∫Èó¥ÔºåÁî®Á©∫Èó¥Êç¢Êó∂Èó¥ÁöÑ‰∏ÄÁßçÂÜÖÂ≠òÂ≠òÂÇ®ËßÑÂàô„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">s1</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;1&#34;</span><span class="p">,</span> <span class="s">&#34;2&#34;</span><span class="p">,</span> <span class="s">&#34;3&#34;</span><span class="p">}</span>
	<span class="nx">s2</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;1&#34;</span><span class="p">}</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nf">Sizeof</span><span class="p">(</span><span class="nx">s1</span><span class="p">))</span> <span class="c1">// 24
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nf">Sizeof</span><span class="p">(</span><span class="nx">s2</span><span class="p">))</span> <span class="c1">// 24
</span><span class="c1"></span>
	<span class="kd">type</span> <span class="nx">t1</span> <span class="kd">struct</span> <span class="p">{</span>
		<span class="nx">a</span> <span class="kt">int32</span>
		<span class="nx">b</span> <span class="kt">int64</span>
		<span class="nx">c</span> <span class="kt">int32</span>
	<span class="p">}</span>
	<span class="kd">type</span> <span class="nx">t2</span> <span class="kd">struct</span> <span class="p">{</span>
		<span class="nx">a</span> <span class="kt">int32</span>
		<span class="nx">b</span> <span class="kt">int32</span>
		<span class="nx">c</span> <span class="kt">int64</span>
	<span class="p">}</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nf">Sizeof</span><span class="p">(</span><span class="nx">t1</span><span class="p">{}))</span> <span class="c1">// 24
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nf">Sizeof</span><span class="p">(</span><span class="nx">t2</span><span class="p">{}))</span> <span class="c1">// 16
</span><span class="c1"></span><span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><p>‚ÄÉ‚ÄÉÊòØ‰∏çÊòØÂØπËøô‰∏™ÁªìÊûúÊúâÁñëÈóÆÂë¢Ôºü‰∏∫‰ªÄ‰πà<code>s1</code>Âíå<code>s2</code>ÁöÑÊï∞ÊçÆÈïøÂ∫¶‰∏çÂêåÔºå‰ΩÜÊòØÊâìÂç∞Âá∫ÁöÑÂÜÖÂ≠òÈïøÂ∫¶‰∏ÄÊ†∑Ôºü‰∏∫‰ªÄ‰πà<code>t1</code>Âíå<code>t2</code>ÁöÑÁªìÊûÑ‰ΩìÂè™ÊòØÂÆö‰πâÁöÑÈ°∫Â∫è‰∏çÂêåÔºåÂÜÖÂ≠òÈïøÂ∫¶Âç¥‰∏ç‰∏ÄÊ†∑Ôºü</p>
<p>‚ÄÉ‚ÄÉËøôÈáåË¶ÅËØ¥Êòé‰∏Ä‰∏ãÔºågoËØ≠Ë®ÄÈÄöËøáunsafe.Sizeof(x)ÊâìÂç∞ÁöÑÂèòÈáèÂç†Áî®ÁöÑÂÜÖÂ≠òÂ≠óËäÇÊï∞ÔºåÂíåÂ∫ïÂ±ÇÊï∞ÊçÆÊó†ÂÖ≥Ôºå‰∏çÂåÖÂê´xÊâÄÊåáÂêëÁöÑÂÜÖÂÆπÂ§ßÂ∞èÔºåÊâÄ‰ª•Á¨¨‰∏Ä‰∏™ÁñëÈóÆËß£ÂÜ≥‰∫Ü„ÄÇ‰πüÂêåÁêÜÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáunsafe.Sizeof()ÊâìÂç∞Âá∫ÂêÑ‰∏™Á±ªÂûãÁöÑÂÜÖÂ≠òÂç†Áî®Â§ßÂ∞è„ÄÇ</p>
<p>‚ÄÉ‚ÄÉÊ≥®ÔºöËøôÈáå‰ΩøÁî®ÁöÑÊòØ64‰ΩçÁ≥ªÁªü„ÄÇ</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Á±ªÂûã</th>
<th>Â≠óËäÇÊï∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>bool</td>
<td>1</td>
</tr>
<tr>
<td>intN, uintN, floatN, complexN</td>
<td>N/8 ‰∏™Â≠óËäÇ Ôºàint32 ÊòØ 4 ‰∏™Â≠óËäÇÔºâ</td>
</tr>
<tr>
<td>int, uint, uintptr</td>
<td>ËÆ°ÁÆóÊú∫Â≠óÈïø/8 (64‰Ωç ÊòØ 8 ‰∏™Â≠óËäÇ)</td>
</tr>
<tr>
<td>*T, map, func, chan</td>
<td>ËÆ°ÁÆóÊú∫Â≠óÈïø/8 (64‰Ωç ÊòØ 8 ‰∏™Â≠óËäÇ)</td>
</tr>
<tr>
<td>string Ôºàdata„ÄÅlenÔºâ</td>
<td>2 * ËÆ°ÁÆóÊú∫Â≠óÈïø/8 (64‰Ωç ÊòØ 16 ‰∏™Â≠óËäÇ)</td>
</tr>
<tr>
<td>interface (tab„ÄÅdata Êàñ _type„ÄÅdata)</td>
<td>2 * ËÆ°ÁÆóÊú∫Â≠óÈïø/8 (64‰Ωç ÊòØ 16 ‰∏™Â≠óËäÇ)</td>
</tr>
<tr>
<td>[]T (array„ÄÅlen„ÄÅcap)</td>
<td>3 * ËÆ°ÁÆóÊú∫Â≠óÈïø/8 (64‰Ωç ÊòØ 24 ‰∏™Â≠óËäÇ)</td>
</tr>
</tbody>
</table></div>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">t</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">a</span> <span class="kt">bool</span> <span class="c1">// 1‰∏™Â≠óËäÇ
</span><span class="c1"></span>    <span class="nx">b</span> <span class="kt">int</span>     <span class="c1">// 8‰∏™Â≠óËäÇ
</span><span class="c1"></span>    <span class="nx">c</span> <span class="kt">string</span> <span class="c1">// 16‰∏™Â≠óËäÇ
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>‚ÄÉ‚ÄÉÂØπ‰∫é‰∏äÈù¢ÁöÑÁªìÊûÑÔºåÂ¶ÇÊûúÊòØÊ≤°ÊúâËøõË°åËøáÂÜÖÂ≠òÂØπÈΩêÔºåÂàôÊåâÁÖßÂ≠òÊîæÁöÑÈ°∫Â∫èÔºå‰ª•64‰ΩçÁ≥ªÁªüÁöÑÊØè8‰∏™Â≠óËäÇÂèñÊï∞ÊçÆÁöÑËßÑÂàôÔºå‰ºöÂèëÁé∞Èô§‰∫Ü<code>a</code>Ôºå<code>b</code>Âíå<code>c</code>ÈÉΩ‰∏çÊòØ‰ªéÂ§¥ÂèñÁöÑÔºåËøáÁ®ãÂ¶ÇÂõæÔºö</p>
<p><img src="/p/memory-management/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90%E9%94%99%E8%AF%AF%E8%AE%A4%E4%B8%BA%E5%AD%98%E6%94%BE.png"
	width="1589"
	height="405"
	srcset="/p/memory-management/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90%E9%94%99%E8%AF%AF%E8%AE%A4%E4%B8%BA%E5%AD%98%E6%94%BE_hu3e76a038d58f2f1062ae644cd8f6b655_27362_480x0_resize_box_3.png 480w, /p/memory-management/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90%E9%94%99%E8%AF%AF%E8%AE%A4%E4%B8%BA%E5%AD%98%E6%94%BE_hu3e76a038d58f2f1062ae644cd8f6b655_27362_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="392"
		data-flex-basis="941px"
	
></p>
<p>‚ÄÉ‚ÄÉËøôÈáåÂ∞±Êúâ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂØπ‰∫é<code>b</code>Âíå<code>c</code>Ê≤°ÊúâÂÅöÂà∞‰ªéËµ∑Âßã‰ΩçÂºÄÂßãÂèñÊï∞ÊçÆÔºåÊâÄ‰ª•‰ºöÈÄ†Êàê‰πãÂêéÂú®ÂÜçÊ¨°ÊãºÊé•Êï¥ÁêÜÁöÑÊìç‰ΩúÔºåÈúÄË¶ÅÂ§öÊ¨°ÂÜÖÂ≠òËÆøÈóÆÂíåÊï¥ÁêÜÁöÑÊ≠•È™§„ÄÇËÄåÂ¶ÇÊûúÁªèËøáÂÜÖÂ≠òÂØπÈΩêÔºåÂ∞±‰ºöÂ¶ÇÂõæÔºö</p>
<p><img src="/p/memory-management/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90.png"
	width="1590"
	height="405"
	srcset="/p/memory-management/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90_hu30eb8e292f8ff7e8cdbfc0b3de51ce1a_37503_480x0_resize_box_3.png 480w, /p/memory-management/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90_hu30eb8e292f8ff7e8cdbfc0b3de51ce1a_37503_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="392"
		data-flex-basis="942px"
	
></p>
<p>‚ÄÉ‚ÄÉÊâÄ‰ª•Êàë‰ª¨ËÉΩÂèëÁé∞ÔºåÂÜÖÂ≠òÂØπÈΩêÂáèÂ∞ë‰∫ÜÊìç‰ΩúÊ≠•È™§Ôºå‰ΩÜÊòØÂç¥Êµ™Ë¥π‰∫ÜÂÜÖÂ≠òÁ©∫Èó¥Âç†Áî®ÁöÑËµÑÊ∫ê„ÄÇ</p>
<h4 id="ÂÜÖÂ≠òÂØπÈΩêËßÑÂàô">ÂÜÖÂ≠òÂØπÈΩêËßÑÂàô</h4>
<ul>
<li>ÊàêÂëòÂØπÈΩêËßÑÂàôÔºöÈíàÂØπ‰∏Ä‰∏™Âü∫Á°ÄÁ±ªÂûãÂèòÈáèÔºåÂ¶ÇÊûú<code>unsafe.AlignOf()</code>ËøîÂõûÁöÑÂÄºÊòØ<code>m</code>ÔºåÈÇ£‰πàËØ•ÂèòÈáèÁöÑÂú∞ÂùÄÈúÄË¶ÅË¢´<code>m</code>Êï¥Èô§ÔºàÂ¶ÇÊûúÂΩìÂâçÂú∞ÂùÄ‰∏çËÉΩÊï¥Èô§ÔºåÂ°´ÂÖÖÁ©∫ÁôΩÂ≠óËäÇÔºåÁõ¥Ëá≥ÂèØ‰ª•Êï¥Èô§Ôºâ„ÄÇ</li>
<li>Êï¥‰ΩìÂØπÈΩêËßÑÂàôÔºöÈíàÂØπ‰∏Ä‰∏™ÁªìÊûÑ‰ΩìÔºåÂ¶ÇÊûú<code>unsafe.AlignOf()</code>ËøîÂõûÂÄºÊòØ<code>m</code>ÔºåÈúÄË¶Å‰øùËØÅËØ•ÁªìÊûÑ‰ΩìÊï¥‰ΩìÂÜÖÂ≠òÂç†Áî®ÊòØ<code>m</code>ÁöÑÊï¥Êï∞ÂÄçÔºåÂ¶ÇÊûúÂΩìÂâç‰∏çÊòØÊï¥Êï∞ÂÄçÔºåÈúÄË¶ÅÂú®ÂêéÈù¢Â°´ÂÖÖÁ©∫ÁôΩÂ≠óËäÇ„ÄÇ</li>
</ul>
<p>‚ÄÉ‚ÄÉÈíàÂØπËØ•ËßÑÂàôÔºåÊàë‰ª¨ÂÜçÊää‰∏äËø∞ÁöÑÁªìÊûÑ‰ΩìÂíå<code>unsafe.Offsetof()</code>ÊãøÂá∫Êù•ÂàÜÊûê‰∏Ä‰∏ãÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">type</span> <span class="nx">t1</span> <span class="kd">struct</span> <span class="p">{</span>
		<span class="nx">a</span> <span class="kt">int32</span>   <span class="c1">// 4‰∏™Â≠óËäÇ
</span><span class="c1"></span>		<span class="nx">b</span> <span class="kt">int64</span>   <span class="c1">// 8‰∏™Â≠óËäÇ
</span><span class="c1"></span>		<span class="nx">c</span> <span class="kt">float32</span> <span class="c1">// 4‰∏™Â≠óËäÇ
</span><span class="c1"></span>		<span class="nx">d</span> <span class="kt">bool</span>    <span class="c1">// 1‰∏™Â≠óËäÇ
</span><span class="c1"></span>	<span class="p">}</span>
	<span class="nx">t</span> <span class="o">:=</span> <span class="nx">t1</span><span class="p">{}</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nf">Offsetof</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">a</span><span class="p">))</span> <span class="c1">// 0
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nf">Offsetof</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">b</span><span class="p">))</span> <span class="c1">// 8
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nf">Offsetof</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">c</span><span class="p">))</span> <span class="c1">// 16
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nf">Offsetof</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">d</span><span class="p">))</span> <span class="c1">// 20
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nf">Alignof</span><span class="p">(</span><span class="nx">t</span><span class="p">))</span>    <span class="c1">// 8
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nf">Sizeof</span><span class="p">(</span><span class="nx">t</span><span class="p">))</span>     <span class="c1">// 24
</span><span class="c1"></span>	<span class="c1">// ÂÅáËÆæ‰ªéÂú∞ÂùÄ0ÂºÄÂßã
</span><span class="c1"></span>	<span class="c1">// unsafe.Sizeof(int32(1)) = 4Ôºåunsafe.Alignof(int32(1)) = 4ÔºåÂú∞ÂùÄ0ÂºÄÂßãÔºåÂèØ‰ª•Ë¢´4Êï¥Èô§
</span><span class="c1"></span>	<span class="c1">// unsafe.Sizeof(int64(1)) = 8Ôºåunsafe.Alignof(int64(1)) = 8ÔºåÂú∞ÂùÄÈúÄË¶Å‰ªé8ÂºÄÂßãÔºåÊâçÂèØ‰ª•Ë¢´8Êï¥Èô§Ôºå[4,8]ÁöÑ‰ΩçÁΩÆÁî®0Êù•Ë°•ÂÖÖ
</span><span class="c1"></span>	<span class="c1">// unsafe.Sizeof(float32(1)) = 4Ôºåunsafe.Alignof(float32(1)) = 4ÔºåÂú∞ÂùÄÈúÄË¶Å‰ªé16ÂºÄÂßãÔºåÂèØ‰ª•Ë¢´4Êï¥Èô§Ôºå[8,16]ÁöÑ‰ΩçÁΩÆË¢´t.bÂç†Êª°
</span><span class="c1"></span>	<span class="c1">// unsafe.Sizeof(true) = 1, unsafe.Alignof(true) = 1, Âú∞ÂùÄ‰ªé20ÂºÄÂßãÂç≥ÂèØÔºå[16,20]ÁöÑ‰ΩçÁΩÆË¢´cÊ≤æÊª°„ÄÇ
</span><span class="c1"></span>	<span class="c1">// Áî±‰∫éÁªìÊûÑ‰Ωì‰πüÈúÄË¶ÅÂØπÈΩêÔºåË¶ÅË¢´8Êï¥Èô§ÔºåÊâÄ‰ª•Ë¶ÅË°•0Âà∞24„ÄÇ
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="/p/memory-management/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90%E4%BE%8B%E5%AD%90.png"
	width="1245"
	height="484"
	srcset="/p/memory-management/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90%E4%BE%8B%E5%AD%90_hu3f36a1c570ec2b1c16972b281c5088f4_40718_480x0_resize_box_3.png 480w, /p/memory-management/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90%E4%BE%8B%E5%AD%90_hu3f36a1c570ec2b1c16972b281c5088f4_40718_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="ÂÜÖÂ≠òÂØπÈΩê‰æãÂ≠ê"
	
	
		class="gallery-image" 
		data-flex-grow="257"
		data-flex-basis="617px"
	
></p>
<h3 id="ÂÜÖÂ≠òÂàÜÈÖç">ÂÜÖÂ≠òÂàÜÈÖç</h3>
<p>Áü•ÈÅì‰∫ÜÂÜÖÂ≠òÂ≠òÊîæÁöÑËßÑÂàôÂêéÔºåÈÇ£‰πàÊàë‰ª¨Â∫îËØ•Ê∏ÖÊ•öÊòØËÆ°ÁÆóÊú∫ÊòØÂ¶Ç‰ΩïÁªôÁ®ãÂ∫èÂàÜÈÖçÂÜÖÂ≠òÁöÑ„ÄÇ</p>
<p>‚ÄÉ‚ÄÉGolangËøêË°åÊó∂ÁöÑÂÜÖÂ≠òÂàÜÈÖçÁÆóÊ≥ï‰∏ªË¶ÅÊ∫êËá™ Google ‰∏∫ C ËØ≠Ë®ÄÂºÄÂèëÁöÑTCMallocÁÆóÊ≥ïÔºåÂÖ®Áß∞Thread-Caching Malloc„ÄÇÊ†∏ÂøÉÊÄùÊÉ≥Â∞±ÊòØÊääÂÜÖÂ≠òÂàÜ‰∏∫Â§öÁ∫ßÁÆ°ÁêÜÔºå‰ªéËÄåÈôç‰ΩéÈîÅÁöÑÁ≤íÂ∫¶„ÄÇÂÆÉÂ∞ÜÂèØÁî®ÁöÑÂ†ÜÂÜÖÂ≠òÈááÁî®‰∫åÁ∫ßÂàÜÈÖçÁöÑÊñπÂºèËøõË°åÁÆ°ÁêÜÔºöÊØè‰∏™Á∫øÁ®ãÈÉΩ‰ºöËá™Ë°åÁª¥Êä§‰∏Ä‰∏™Áã¨Á´ãÁöÑÂÜÖÂ≠òÊ±†ÔºåËøõË°åÂÜÖÂ≠òÂàÜÈÖçÊó∂‰ºòÂÖà‰ªéËØ•ÂÜÖÂ≠òÊ±†‰∏≠ÂàÜÈÖçÔºåÂΩìÂÜÖÂ≠òÊ±†‰∏çË∂≥Êó∂Êâç‰ºöÂêëÂÖ®Â±ÄÂÜÖÂ≠òÊ±†Áî≥ËØ∑Ôºå‰ª•ÈÅøÂÖç‰∏çÂêåÁ∫øÁ®ãÂØπÂÖ®Â±ÄÂÜÖÂ≠òÊ±†ÁöÑÈ¢ëÁπÅÁ´û‰∫â„ÄÇ</p>
<p>‚ÄÉ‚ÄÉÂú®GoÈáåÈù¢Êúâ‰∏§ÁßçÂÜÖÂ≠òÂàÜÈÖçÁ≠ñÁï•Ôºå‰∏ÄÁßçÈÄÇÁî®‰∫éÁ®ãÂ∫èÈáåÂ∞èÂÜÖÂ≠òÂùóÁöÑÁî≥ËØ∑ÔºåÂè¶‰∏ÄÁßçÈÄÇÁî®‰∫éÂ§ßÂÜÖÂ≠òÂùóÁöÑÁî≥ËØ∑ÔºåÂ§ßÂÜÖÂ≠òÂùóÊåáÁöÑÊòØÂ§ß‰∫é32KB„ÄÇ</p>
<h4 id="Âü∫Á°ÄÊ¶ÇÂøµ">Âü∫Á°ÄÊ¶ÇÂøµ</h4>
<p>mspanÔºöGo‰∏≠ÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÂü∫Êú¨ÂçïÂÖÉÔºåÊòØÁî±‰∏ÄÁâáËøûÁª≠ÁöÑ8KBÁöÑÈ°µÁªÑÊàêÁöÑÂ§ßÂùóÂÜÖÂ≠ò„ÄÇÊ≥®ÊÑèÔºåËøôÈáåÁöÑÈ°µÂíåÊìç‰ΩúÁ≥ªÁªüÊú¨Ë∫´ÁöÑÈ°µÂπ∂‰∏çÊòØ‰∏ÄÂõû‰∫ãÔºåÂÆÉ‰∏ÄËà¨ÊòØÊìç‰ΩúÁ≥ªÁªüÈ°µÂ§ßÂ∞èÁöÑÂá†ÂÄç„ÄÇ‰∏ÄÂè•ËØùÊ¶ÇÊã¨ÔºömspanÊòØ‰∏Ä‰∏™ÂåÖÂê´Ëµ∑ÂßãÂú∞ÂùÄ„ÄÅmspanËßÑÊ†º„ÄÅÈ°µÁöÑÊï∞ÈáèÁ≠âÂÜÖÂÆπÁöÑÂèåÁ´ØÈìæË°®„ÄÇÊØè‰∏™mspanÊåâÁÖßÂÆÉËá™Ë∫´ÁöÑÂ±ûÊÄßSize ClassÁöÑÂ§ßÂ∞èÂàÜÂâ≤ÊàêËã•Âπ≤‰∏™objectÔºåÊØè‰∏™objectÂèØÂ≠òÂÇ®‰∏Ä‰∏™ÂØπË±°„ÄÇ</p>
<p>mcacheÔºöÊØè‰∏™Â∑•‰ΩúÁ∫øÁ®ãÈÉΩ‰ºöÁªëÂÆö‰∏Ä‰∏™mcacheÔºåÊú¨Âú∞ÁºìÂ≠òÂèØÁî®ÁöÑmspanËµÑÊ∫êÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Áõ¥Êé•ÁªôGoroutineÂàÜÈÖçÔºåÂõ†‰∏∫‰∏çÂ≠òÂú®Â§ö‰∏™GoroutineÁ´û‰∫âÁöÑÊÉÖÂÜµÔºåÊâÄ‰ª•‰∏ç‰ºöÊ∂àËÄóÈîÅËµÑÊ∫ê„ÄÇ</p>
<p>mcentralÔºö‰∏∫ÊâÄÊúâmcacheÊèê‰æõÂàáÂàÜÂ•ΩÁöÑmspanËµÑÊ∫ê„ÄÇÊØè‰∏™central‰øùÂ≠ò‰∏ÄÁßçÁâπÂÆöÂ§ßÂ∞èÁöÑÂÖ®Â±ÄmspanÂàóË°®ÔºåÂåÖÊã¨Â∑≤ÂàÜÈÖçÂá∫ÂéªÁöÑÂíåÊú™ÂàÜÈÖçÂá∫ÂéªÁöÑ„ÄÇ ÊØè‰∏™mcentralÂØπÂ∫î‰∏ÄÁßçmspanÔºåËÄåmspanÁöÑÁßçÁ±ªÂØºËá¥ÂÆÉÂàÜÂâ≤ÁöÑobjectÂ§ßÂ∞è‰∏çÂêå„ÄÇÂΩìÂ∑•‰ΩúÁ∫øÁ®ãÁöÑmcache‰∏≠Ê≤°ÊúâÂêàÈÄÇÔºà‰πüÂ∞±ÊòØÁâπÂÆöÂ§ßÂ∞èÁöÑÔºâÁöÑmspanÊó∂Â∞±‰ºö‰ªémcentralËé∑Âèñ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="c1">//path: /usr/local/go/src/runtime/mcentral.go
</span><span class="c1"></span>
<span class="kd">type</span> <span class="nx">mcentral</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="c1">// ‰∫íÊñ•ÈîÅ
</span><span class="c1"></span>    <span class="nx">lock</span> <span class="nx">mutex</span> 
    <span class="c1">// ËßÑÊ†º
</span><span class="c1"></span>    <span class="nx">sizeclass</span> <span class="kt">int32</span> 
    <span class="c1">// Â∞öÊúâÁ©∫Èó≤objectÁöÑmspanÈìæË°®
</span><span class="c1"></span>    <span class="nx">nonempty</span> <span class="nx">mSpanList</span> 
    <span class="c1">// Ê≤°ÊúâÁ©∫Èó≤objectÁöÑmspanÈìæË°®ÔºåÊàñËÄÖÊòØÂ∑≤Ë¢´mcacheÂèñËµ∞ÁöÑmsapnÈìæË°®
</span><span class="c1"></span>    <span class="nx">empty</span> <span class="nx">mSpanList</span> 
    <span class="c1">// Â∑≤Á¥ØËÆ°ÂàÜÈÖçÁöÑÂØπË±°‰∏™Êï∞
</span><span class="c1"></span>    <span class="nx">nmalloc</span> <span class="kt">uint64</span> 
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>mheapÔºö‰ª£Ë°®GoÁ®ãÂ∫èÊåÅÊúâÁöÑÊâÄÊúâÂ†ÜÁ©∫Èó¥ÔºåGoÁ®ãÂ∫è‰ΩøÁî®‰∏Ä‰∏™mheapÁöÑÂÖ®Â±ÄÂØπË±°_mheapÊù•ÁÆ°ÁêÜÂ†ÜÂÜÖÂ≠ò„ÄÇ</p>
<p>‚ÄÉ‚ÄÉÂΩìmcentralÊ≤°ÊúâÁ©∫Èó≤ÁöÑmspanÊó∂Ôºå‰ºöÂêëmheapÁî≥ËØ∑„ÄÇËÄåmheapÊ≤°ÊúâËµÑÊ∫êÊó∂Ôºå‰ºöÂêëÊìç‰ΩúÁ≥ªÁªüÁî≥ËØ∑Êñ∞ÂÜÖÂ≠ò„ÄÇmheap‰∏ªË¶ÅÁî®‰∫éÂ§ßÂØπË±°ÁöÑÂÜÖÂ≠òÂàÜÈÖçÔºå‰ª•ÂèäÁÆ°ÁêÜÊú™ÂàáÂâ≤ÁöÑmspanÔºåÁî®‰∫éÁªômcentralÂàáÂâ≤ÊàêÂ∞èÂØπË±°„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kd">type</span> <span class="nx">smallStruct</span> <span class="kd">struct</span> <span class="p">{</span>
   <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">int64</span>
   <span class="nx">c</span><span class="p">,</span> <span class="nx">d</span> <span class="kt">float64</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="nf">smallAllocation</span><span class="p">()</span>
<span class="p">}</span>

<span class="c1">//go:noinline
</span><span class="c1"></span><span class="kd">func</span> <span class="nf">smallAllocation</span><span class="p">()</span> <span class="o">*</span><span class="nx">smallStruct</span> <span class="p">{</span>
   <span class="k">return</span> <span class="o">&amp;</span><span class="nx">smallStruct</span><span class="p">{}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="Â∞è‰∫é-32-kb-ÂÜÖÂ≠òÂùóÁöÑÂàÜÈÖçÁ≠ñÁï•">Â∞è‰∫é 32 KB ÂÜÖÂ≠òÂùóÁöÑÂàÜÈÖçÁ≠ñÁï•</h4>
<p>‚ÄÉ‚ÄÉÂΩìÁ®ãÂ∫èÈáåÂèëÁîü‰∫Ü32kb‰ª•‰∏ãÁöÑÂ∞èÂùóÂÜÖÂ≠òÁî≥ËØ∑Êó∂ÔºåGo‰ºö‰ªé‰∏Ä‰∏™Âè´ÂÅöÁöÑ mcache ÁöÑÊú¨Âú∞ÁºìÂ≠òÁªôÁ®ãÂ∫èÂàÜÈÖçÂÜÖÂ≠ò„ÄÇËøô‰∏™Êú¨Âú∞ÁºìÂ≠ò mcache ÊåÅÊúâ‰∏ÄÁ≥ªÂàóÁöÑÂ§ßÂ∞è‰∏∫ 32kb ÁöÑÂÜÖÂ≠òÂùóÔºåËøôÊ†∑ÁöÑ‰∏Ä‰∏™ÂÜÖÂ≠òÂùóÈáåÂè´ÂÅö mspanÔºåÂÆÉÊòØË¶ÅÁªôÁ®ãÂ∫èÂàÜÈÖçÂÜÖÂ≠òÊó∂ÁöÑÂàÜÈÖçÂçïÂÖÉ„ÄÇ</p>
<p>‚ÄÉ‚ÄÉÂú® Go ÁöÑË∞ÉÂ∫¶Âô®Ê®°ÂûãÈáåÔºåÊØè‰∏™Á∫øÁ®ãM‰ºöÁªëÂÆöÁªô‰∏Ä‰∏™Â§ÑÁêÜÂô®PÔºåÂú®Âçï‰∏ÄÁ≤íÂ∫¶ÁöÑÊó∂Èó¥ÈáåÂè™ËÉΩÂÅöÂ§öÂ§ÑÁêÜËøêË°å‰∏Ä‰∏™goroutineÔºåÊØè‰∏™PÈÉΩ‰ºöÁªëÂÆö‰∏Ä‰∏™‰∏äÈù¢ËØ¥ÁöÑÊú¨Âú∞ÁºìÂ≠òmcache„ÄÇÂΩìÈúÄË¶ÅËøõË°åÂÜÖÂ≠òÂàÜÈÖçÊó∂ÔºåÂΩìÂâçËøêË°åÁöÑgoroutine‰ºö‰ªémcache‰∏≠Êü•ÊâæÂèØÁî®ÁöÑmspan„ÄÇ‰ªéÊú¨Âú∞mcacheÈáåÂàÜÈÖçÂÜÖÂ≠òÊó∂‰∏çÈúÄË¶ÅÂä†ÈîÅÔºåËøôÁßçÂàÜÈÖçÁ≠ñÁï•ÊïàÁéáÊõ¥È´ò„ÄÇ</p>
<p><img src="/p/memory-management/%E5%B0%8F%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D.png"
	width="587"
	height="388"
	srcset="/p/memory-management/%E5%B0%8F%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D_hu0a7abb04b5d962db8f63232a4446f9b7_55474_480x0_resize_box_3.png 480w, /p/memory-management/%E5%B0%8F%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D_hu0a7abb04b5d962db8f63232a4446f9b7_55474_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="151"
		data-flex-basis="363px"
	
></p>
<p>‚ÄÉ‚ÄÉ‰ΩÜÊòØÊúâÁöÑÂèòÈáèÂæàÂ∞èÂ∞±ÊòØÊï∞Â≠óÔºåÊúâÁöÑÂç¥ÊòØ‰∏Ä‰∏™Â§çÊùÇÁöÑÁªìÊûÑ‰ΩìÔºåÁî≥ËØ∑ÂÜÖÂ≠òÊó∂ÈÉΩÂàÜÁªô‰ªñ‰ª¨‰∏Ä‰∏™mspanËøôÊ†∑ÁöÑÂçïÂÖÉ‰ºö‰∏ç‰ºö‰∫ßÁîüÊµ™Ë¥π„ÄÇÂÖ∂ÂÆûmcacheÊåÅÊúâÁöÑËøô‰∏ÄÁ≥ªÂàóÁöÑmspanÂπ∂‰∏çÈÉΩÊòØÁªü‰∏ÄÂ§ßÂ∞èÁöÑÔºåËÄåÊòØÊåâÁÖßÂ§ßÂ∞èÔºå‰ªé8Â≠óËäÇÂà∞32KBÂàÜ‰∫Ü67Á±ªÁöÑmsapn„ÄÇ</p>
<p><img src="/p/memory-management/mcache.png"
	width="502"
	height="409"
	srcset="/p/memory-management/mcache_huf455407eec686e2a53900cf86012cf72_55182_480x0_resize_box_3.png 480w, /p/memory-management/mcache_huf455407eec686e2a53900cf86012cf72_55182_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="122"
		data-flex-basis="294px"
	
></p>
<p>‚ÄÉ‚ÄÉÁªìÊûÑ‰ΩìÂàöÂ•ΩÊòØ32Â≠óËäÇÔºåÊâÄ‰ª•Áõ¥Êé•ÂàÜÈÖçÂà∞ÂÖ∂‰∏≠‰∏Ä‰∏™Ôºå‰ΩÜÊòØÂ¶ÇÊûúmcachceÈáåÊ≤°ÊúâÁ©∫Èó≤ÁöÑ32Â≠óËäÇÁöÑmspan‰∫ÜËØ•ÊÄé‰πàÂäûÔºüGoÈáåËøò‰∏∫ÊØèÁßçÁ±ªÂà´ÁöÑmspanÁª¥Êä§ÁùÄ‰∏Ä‰∏™mcentral„ÄÇ</p>
<p>‚ÄÉ‚ÄÉÂàöÊâçËØ¥ËøámcentralÁöÑ‰ΩúÁî®ÊòØ‰∏∫ÊâÄÊúâmcacheÊèê‰æõÂàáÂàÜÂ•ΩÁöÑmspanËµÑÊ∫ê„ÄÇÊØè‰∏™central‰ºöÊåÅÊúâ‰∏ÄÁßçÁâπÂÆöÂ§ßÂ∞èÁöÑÂÖ®Â±ÄmspanÂàóË°®ÔºåÂåÖÊã¨Â∑≤ÂàÜÈÖçÂá∫ÂéªÁöÑÂíåÊú™ÂàÜÈÖçÂá∫ÂéªÁöÑ„ÄÇ ÊØè‰∏™mcentralÂØπÂ∫î‰∏ÄÁßçmspanÔºåÂΩìÂ∑•‰ΩúÁ∫øÁ®ãÁöÑmcache‰∏≠Ê≤°ÊúâÂêàÈÄÇÔºà‰πüÂ∞±ÊòØÁâπÂÆöÂ§ßÂ∞èÁöÑÔºâÁöÑmspanÊó∂Â∞±‰ºö‰ªémcentral ÂéªËé∑Âèñ„ÄÇmcentralË¢´ÊâÄÊúâÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÂÖ±Âêå‰∫´ÊúâÔºåÂ≠òÂú®Â§ö‰∏™goroutineÁ´û‰∫âÁöÑÊÉÖÂÜµÔºåÂõ†Ê≠§‰ªémcentralËé∑ÂèñËµÑÊ∫êÊó∂ÈúÄË¶ÅÂä†ÈîÅ„ÄÇ</p>
<p>‚ÄÉ‚ÄÉmcentralÈáåÁª¥Êä§ÁùÄ‰∏§‰∏™ÂèåÂêëÈìæË°®ÔºånonemptyË°®Á§∫ÈìæË°®ÈáåËøòÊúâÁ©∫Èó≤ÁöÑmspanÂæÖÂàÜÈÖç„ÄÇemptyË°®Á§∫ËøôÊù°ÈìæË°®ÈáåÁöÑmspanÈÉΩË¢´ÂàÜÈÖç‰∫Üobject„ÄÇ</p>
<p>mcache‰ªémcentralËé∑ÂèñÂíåÂΩíËøòmspanÁöÑÊµÅÁ®ãÔºö</p>
<ul>
<li>Ëé∑Âèñ Âä†ÈîÅÔºõ‰ªénonemptyÈìæË°®ÊâæÂà∞‰∏Ä‰∏™ÂèØÁî®ÁöÑmspanÔºõÂπ∂Â∞ÜÂÖ∂‰ªénonemptyÈìæË°®Âà†Èô§ÔºõÂ∞ÜÂèñÂá∫ÁöÑmspanÂä†ÂÖ•Âà∞emptyÈìæË°®ÔºõÂ∞ÜmspanËøîÂõûÁªôÂ∑•‰ΩúÁ∫øÁ®ãÔºõËß£ÈîÅ„ÄÇ</li>
<li>ÂΩíËøò Âä†ÈîÅÔºõÂ∞Ümspan‰ªéemptyÈìæË°®Âà†Èô§ÔºõÂ∞ÜmspanÂä†ÂÖ•Âà∞nonemptyÈìæË°®ÔºõËß£ÈîÅ„ÄÇ</li>
</ul>
<p><img src="/p/memory-management/mcache%E4%BB%8Emcentra%E8%8E%B7%E5%8F%96mspan.png"
	width="705"
	height="412"
	srcset="/p/memory-management/mcache%E4%BB%8Emcentra%E8%8E%B7%E5%8F%96mspan_hu01d050465a2ccc25b5a7a33d343309cb_65891_480x0_resize_box_3.png 480w, /p/memory-management/mcache%E4%BB%8Emcentra%E8%8E%B7%E5%8F%96mspan_hu01d050465a2ccc25b5a7a33d343309cb_65891_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="171"
		data-flex-basis="410px"
	
></p>
<p>ÂΩìmcentralÊ≤°ÊúâÁ©∫Èó≤ÁöÑmspanÊó∂Ôºå‰ºöÂêëmheapÁî≥ËØ∑„ÄÇËÄåmheapÊ≤°ÊúâËµÑÊ∫êÊó∂Ôºå‰ºöÂêëÊìç‰ΩúÁ≥ªÁªüÁî≥ËØ∑Êñ∞ÂÜÖÂ≠ò„ÄÇmheap‰∏ªË¶ÅÁî®‰∫éÂ§ßÂØπË±°ÁöÑÂÜÖÂ≠òÂàÜÈÖçÔºå‰ª•ÂèäÁÆ°ÁêÜÊú™ÂàáÂâ≤ÁöÑmspanÔºåÁî®‰∫éÁªômcentralÂàáÂâ≤ÊàêÂ∞èÂØπË±°„ÄÇmheap‰∏≠Âê´ÊúâÊâÄÊúâËßÑÊ†ºÁöÑmcentralÔºåÊâÄ‰ª•ÔºåÂΩì‰∏Ä‰∏™mcache‰ªémcentralÁî≥ËØ∑mspanÊó∂ÔºåÂè™ÈúÄË¶ÅÂú®Áã¨Á´ãÁöÑmcentral‰∏≠‰ΩøÁî®ÈîÅÔºåÂπ∂‰∏ç‰ºöÂΩ±ÂìçÁî≥ËØ∑ÂÖ∂‰ªñËßÑÊ†ºÁöÑmspan„ÄÇ</p>
<p>mheapÈáåÁöÑarena Âå∫ÂüüÊòØÁúüÊ≠£ÁöÑÂ†ÜÂå∫ÔºåËøêË°åÊó∂‰ºöÂ∞Ü 8KB ÁúãÂÅö‰∏ÄÈ°µÔºåËøô‰∫õÂÜÖÂ≠òÈ°µ‰∏≠Â≠òÂÇ®‰∫ÜÊâÄÊúâÂú®Â†Ü‰∏äÂàùÂßãÂåñÁöÑÂØπË±°„ÄÇ</p>
<p><img src="/p/memory-management/mheap.png"
	width="457"
	height="309"
	srcset="/p/memory-management/mheap_hu0fbf48ef2fe0ee1b99027905191b94d3_36230_480x0_resize_box_3.png 480w, /p/memory-management/mheap_hu0fbf48ef2fe0ee1b99027905191b94d3_36230_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="147"
		data-flex-basis="354px"
	
></p>
<h4 id="Â§ß‰∫é-32-kb-ÂÜÖÂ≠òÂùóÁöÑÂÜÖÂ≠òÂàÜÈÖç">Â§ß‰∫é 32 KB ÂÜÖÂ≠òÂùóÁöÑÂÜÖÂ≠òÂàÜÈÖç</h4>
<p>‚ÄÉ‚ÄÉGoÊ≤°Ê≥ï‰ΩøÁî®Â∑•‰ΩúÁ∫øÁ®ãÁöÑÊú¨Âú∞ÁºìÂ≠òmcacheÂíåÂÖ®Â±Ä‰∏≠ÂøÉÁºìÂ≠òmcentral‰∏äÁÆ°ÁêÜË∂ÖËøá32KBÁöÑÂÜÖÂ≠òÂàÜÈÖçÔºåÊâÄ‰ª•ÂØπ‰∫éÈÇ£‰∫õË∂ÖËøá32KBÁöÑÂÜÖÂ≠òÁî≥ËØ∑Ôºå‰ºöÁõ¥Êé•‰ªéÂ†Ü‰∏ä(mheap)‰∏äÂàÜÈÖçÂØπÂ∫îÁöÑÊï∞ÈáèÁöÑÂÜÖÂ≠òÈ°µÔºàÊØèÈ°µÂ§ßÂ∞èÊòØ8KBÔºâÁªôÁ®ãÂ∫è„ÄÇ</p>
<p><img src="/p/memory-management/%E5%A4%A7%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D.png"
	width="588"
	height="201"
	srcset="/p/memory-management/%E5%A4%A7%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D_hud16c384e94a535d77d496485f3d694cf_35309_480x0_resize_box_3.png 480w, /p/memory-management/%E5%A4%A7%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D_hud16c384e94a535d77d496485f3d694cf_35309_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="292"
		data-flex-basis="702px"
	
></p>
<h3 id="ÈÄÉÈÄ∏ÂàÜÊûê">ÈÄÉÈÄ∏ÂàÜÊûê</h3>
<p>‚ÄÉ‚ÄÉÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÁºñËØëÂô®ÊòØÂÄæÂêë‰∫éÂ∞ÜÂèòÈáèÂàÜÈÖçÂà∞Ê†à‰∏äÁöÑÔºåÂõ†‰∏∫ÂÆÉÁöÑÂºÄÈîÄÂ∞èÔºåÊúÄÊûÅÁ´ØÁöÑÂ∞±ÊòØ&quot;zero garbage&quot;ÔºåÊâÄÊúâÁöÑÂèòÈáèÈÉΩ‰ºöÂú®Ê†à‰∏äÂàÜÈÖçÔºåËøôÊ†∑Â∞±‰∏ç‰ºöÂ≠òÂú®ÂÜÖÂ≠òÁ¢éÁâáÔºåÂûÉÂúæÂõûÊî∂‰πãÁ±ªÁöÑ‰∏úË•ø„ÄÇÂèòÈáèÊòØÂú®Ê†à‰∏äÂàÜÈÖçËøòÊòØÂú®Â†Ü‰∏äÂàÜÈÖçÔºåÊòØÁî±ÈÄÉÈÄ∏ÂàÜÊûêÁöÑÁªìÊûúÂÜ≥ÂÆöÁöÑ„ÄÇ</p>
<p>Go ÂÆòÊñπ‰∏äÊúâËøô‰πà‰∏ÄÊÆµÂÜÖÂ≠òÈÄÉÈÄ∏ÂàÜÊûêÁöÑQA</p>
<p>QÔºöÂ¶Ç‰ΩïÂæóÁü•ÂèòÈáèÊòØÂàÜÈÖçÂú®Ê†àÔºàstackÔºâ‰∏äËøòÊòØÂ†ÜÔºàheapÔºâ‰∏äÔºü</p>
<p>A: ÂáÜÁ°ÆÂú∞ËØ¥Ôºå‰Ω†Âπ∂‰∏çÈúÄË¶ÅÁü•ÈÅì„ÄÇGolang ‰∏≠ÁöÑÂèòÈáèÂè™Ë¶ÅË¢´ÂºïÁî®Â∞±‰∏ÄÁõ¥‰ºöÂ≠òÊ¥ªÔºåÂ≠òÂÇ®Âú®Â†Ü‰∏äËøòÊòØÊ†à‰∏äÁî±ÂÜÖÈÉ®ÂÆûÁé∞ÂÜ≥ÂÆöËÄåÂíåÂÖ∑‰ΩìÁöÑËØ≠Ê≥ïÊ≤°ÊúâÂÖ≥Á≥ª„ÄÇÁü•ÈÅìÂèòÈáèÁöÑÂ≠òÂÇ®‰ΩçÁΩÆÁ°ÆÂÆûÂØπÁ®ãÂ∫èÁöÑÊïàÁéáÊúâÂ∏ÆÂä©„ÄÇÂ¶ÇÊûúÂèØËÉΩÔºåGolang ÁºñËØëÂô®‰ºöÂ∞ÜÂáΩÊï∞ÁöÑÂ±ÄÈÉ®ÂèòÈáèÂàÜÈÖçÂà∞ÂáΩÊï∞Ê†àÂ∏ßÔºàstack frameÔºâ‰∏ä„ÄÇÁÑ∂ËÄåÔºåÂ¶ÇÊûúÁºñËØëÂô®‰∏çËÉΩÁ°Æ‰øùÂèòÈáèÂú®ÂáΩÊï∞ return ‰πãÂêé‰∏çÂÜçË¢´ÂºïÁî®ÔºåÁºñËØëÂô®Â∞±‰ºöÂ∞ÜÂèòÈáèÂàÜÈÖçÂà∞Â†Ü‰∏ä„ÄÇËÄå‰∏îÔºåÂ¶ÇÊûú‰∏Ä‰∏™Â±ÄÈÉ®ÂèòÈáèÈùûÂ∏∏Â§ßÔºåÈÇ£‰πàÂÆÉ‰πüÂ∫îËØ•Ë¢´ÂàÜÈÖçÂà∞Â†Ü‰∏äËÄå‰∏çÊòØÊ†à‰∏ä„ÄÇÂΩìÂâçÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûú‰∏Ä‰∏™ÂèòÈáèË¢´ÂèñÂú∞ÂùÄÔºåÈÇ£‰πàÂÆÉÂ∞±ÊúâÂèØËÉΩË¢´ÂàÜÈÖçÂà∞Â†Ü‰∏ä„ÄÇÁÑ∂ËÄåÔºåËøòË¶ÅÂØπËøô‰∫õÂèòÈáèÂÅöÈÄÉÈÄ∏ÂàÜÊûêÔºåÂ¶ÇÊûúÂáΩÊï∞ return ‰πãÂêéÔºåÂèòÈáè‰∏çÂÜçË¢´ÂºïÁî®ÔºåÂàôÂ∞ÜÂÖ∂ÂàÜÈÖçÂà∞Ê†à‰∏ä„ÄÇ</p>
<p>‚ÄÉ‚ÄÉGoÁºñËØëÂô®‰ºöË∑®Ë∂äÂáΩÊï∞ÂíåÂåÖÁöÑËæπÁïåËøõË°åÂÖ®Â±ÄÁöÑÈÄÉÈÄ∏ÂàÜÊûê„ÄÇÂÆÉ‰ºöÊ£ÄÊü•ÊòØÂê¶ÈúÄË¶ÅÂú®Â†Ü‰∏ä‰∏∫‰∏Ä‰∏™ÂèòÈáèÂàÜÈÖçÂÜÖÂ≠òÔºåËøòÊòØËØ¥ÂèØ‰ª•Âú®Ê†àÊú¨Ë∫´ÁöÑÂÜÖÂ≠òÈáåÂØπÂÖ∂ËøõË°åÁÆ°ÁêÜ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Called heapAnalysis&#34;</span><span class="p">,</span> <span class="nf">heapAnalysis</span><span class="p">())</span>
<span class="p">}</span>
<span class="c1">//go:noinline
</span><span class="c1"></span><span class="kd">func</span> <span class="nf">heapAnalysis</span><span class="p">()</span> <span class="o">*</span><span class="kt">int</span> <span class="p">{</span>
   <span class="nx">data</span> <span class="o">:=</span> <span class="mi">55</span>
   <span class="k">return</span> <span class="o">&amp;</span><span class="nx">data</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="k">go</span> <span class="nx">build</span> <span class="o">-</span><span class="nx">gcflags</span> <span class="s">&#34;-m -l&#34;</span>

<span class="p">.</span><span class="o">/</span><span class="nx">scratch</span><span class="p">.</span><span class="k">go</span><span class="p">:</span><span class="mi">9</span><span class="p">:</span><span class="mi">9</span><span class="p">:</span> <span class="o">&amp;</span><span class="nx">data</span> <span class="nx">escapes</span> <span class="nx">to</span> <span class="nx">heap</span>
<span class="p">.</span><span class="o">/</span><span class="nx">scratch</span><span class="p">.</span><span class="k">go</span><span class="p">:</span><span class="mi">8</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span> <span class="nx">moved</span> <span class="nx">to</span> <span class="nx">heap</span><span class="p">:</span> <span class="nx">data</span>
<span class="p">.</span><span class="o">/</span><span class="nx">scratch</span><span class="p">.</span><span class="k">go</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span> <span class="s">&#34;Called heapAnalysis&#34;</span> <span class="nx">escapes</span> <span class="nx">to</span> <span class="nx">heap</span>
<span class="p">.</span><span class="o">/</span><span class="nx">scratch</span><span class="p">.</span><span class="k">go</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">49</span><span class="p">:</span> <span class="nf">heapAnalysis</span><span class="p">()</span> <span class="nx">escapes</span> <span class="nx">to</span> <span class="nx">heap</span>
<span class="p">.</span><span class="o">/</span><span class="nx">scratch</span><span class="p">.</span><span class="k">go</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span> <span class="nx">main</span> <span class="o">...</span> <span class="nx">argument</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">escape</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="/p/memory-management/%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90.png"
	width="714"
	height="520"
	srcset="/p/memory-management/%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90_hube57392961af9e80ebdc2f4a8a25d343_24148_480x0_resize_box_3.png 480w, /p/memory-management/%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90_hube57392961af9e80ebdc2f4a8a25d343_24148_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="137"
		data-flex-basis="329px"
	
></p>
<p>mainÂíåheapAnalysisÂáΩÊï∞ÂàÜÈÖçÂú®‰∏Ä‰∏™Ê†à‰∏ä„ÄÇÁî±‰∫éÂáΩÊï∞ÂÖ∑ÊúâËá™Â∑±ÁöÑÂèòÈáèÔºåÂõ†Ê≠§‰πü‰ºöÂ∞ÜÂèòÈáèÂàÜÈÖçÂà∞Ê†àÁöÑÊüê‰∏™Âú∞Êñπ„ÄÇ‰ΩÜÊòØÁºñËØëÂô®Ê£ÄÊü•Âà∞ËØ•ÂÄºÊòØËøîÂõû‰∫ÜÂÆÉÁöÑÊåáÈíàÔºåÂπ∂‰∏îÂ∑≤Áî®‰∫éÂè¶‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂõ†Ê≠§ÂèòÈáèË¢´ÁßªÂà∞‰∫ÜÂ†Ü‰∏≠Ôºå‰∏ªÂáΩÊï∞‰ºö‰ªéÂ†Ü‰∏≠ËÆøÈóÆËØ•ÂèòÈáè„ÄÇ</p>
<p>Êúâ‰∏™ÁâπÊÆäËØ¥ÊòéÔºå</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Called stackAnalysis&#34;</span><span class="p">,</span> <span class="nf">stackAnalysis</span><span class="p">())</span>
<span class="p">}</span>
<span class="c1">//go:noinline (Âä†‰∏ÄË°åÁâπÊÆäÁöÑÊ≥®ÈáäËÆ©ÁºñËØëÂô®‰∏çÂØπÂáΩÊï∞ËøõË°åÂÜÖËÅîÔºåÂÜÖËÅîÊòØ‰∏ÄÁßçÊâãÂä®ÊàñÁºñËØëÂô®‰ºòÂåñÔºåÁî®‰∫éÂ∞ÜÁÆÄÁü≠ÂáΩÊï∞ÁöÑË∞ÉÁî®ÊõøÊç¢‰∏∫ÂáΩÊï∞‰ΩìÊú¨Ë∫´„ÄÇËøô‰πàÂÅöÁöÑÂéüÂõ†ÊòØÂÆÉÂèØ‰ª•Ê∂àÈô§ÂáΩÊï∞Ë∞ÉÁî®Êú¨Ë∫´ÁöÑÂºÄÈîÄÔºå‰πü‰ΩøÂæóÁºñËØëÂô®ËÉΩÊõ¥È´òÊïàÂú∞ÊâßË°åÂÖ∂‰ªñÁöÑ‰ºòÂåñÁ≠ñÁï•)
</span><span class="c1"></span><span class="kd">func</span> <span class="nf">stackAnalysis</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="nx">data</span> <span class="o">:=</span> <span class="mi">55</span>
    <span class="k">return</span> <span class="nx">data</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="k">go</span> <span class="nx">build</span> <span class="o">-</span><span class="nx">gcflags</span> <span class="s">&#34;-m -l&#34;</span>

<span class="p">.</span><span class="o">/</span><span class="nx">scratch</span><span class="p">.</span><span class="k">go</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span> <span class="s">&#34;Called stackAnalysis&#34;</span> <span class="nx">escapes</span> <span class="nx">to</span> <span class="nx">heap</span>
<span class="p">.</span><span class="o">/</span><span class="nx">scratch</span><span class="p">.</span><span class="k">go</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span> <span class="nf">stackAnalysis</span><span class="p">()</span> <span class="nx">escapes</span> <span class="nx">to</span> <span class="nx">heap</span>
<span class="p">.</span><span class="o">/</span><span class="nx">scratch</span><span class="p">.</span><span class="k">go</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span> <span class="nx">main</span> <span class="o">...</span> <span class="nx">argument</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">escape</span>
</code></pre></td></tr></table>
</div>
</div><p>Á¨¨4Ë°å14‰∏™Â≠óÁ¨¶Â§ÑÁöÑÂ≠óÁ¨¶‰∏≤Ê†áÈáè&quot;Called stackAnalysis&quot;ÈÄÉÈÄ∏Âà∞Â†Ü‰∏ä„ÄÇ</p>
<p>Á¨¨4Ë°å51‰∏™Â≠óÁ¨¶‰∏≤ÁöÑÂáΩÊï∞Ë∞ÉÁî®stackAnalysis()ÈÄÉÈÄ∏Âà∞‰∫ÜÂ†Ü‰∏ä„ÄÇ</p>
<p>escapes to heap&quot;ÁöÑÊÑèÊÄùÊòØÂèòÈáèÈúÄË¶ÅÂú®ÂáΩÊï∞Ê†à‰πãÈó¥ÂÖ±‰∫´Ôºå‰∏äÈù¢ÁöÑ‰æãÂ≠êÂ∞±ÊòØÂú®<code>main</code>Âíå<code>fmt.Println</code>‰πãÈó¥ÂÖ±‰∫´„ÄÇmainÂíåstackAnalysisÂáΩÊï∞ÂàÜÈÖçÂú®‰∏Ä‰∏™Ê†à‰∏ä„ÄÇÁî±‰∫éÂáΩÊï∞ÂÖ∑ÊúâËá™Â∑±ÁöÑÂèòÈáèÔºåÂõ†Ê≠§‰πü‰ºöÂ∞ÜÂèòÈáèÂàÜÈÖçÂà∞Ê†àÁöÑÊüê‰∏™Âú∞Êñπ„ÄÇÂΩìÂáΩÊï∞ËøîÂõûÊó∂Ôºå‰∏éËØ•ÂáΩÊï∞ÂÖ≥ËÅîÁöÑÊâÄÊúâÂèòÈáè‰πü‰ºö‰ªéÂÜÖÂ≠ò‰∏≠Âà†Èô§„ÄÇËøôÈáåÂπ∂Ê≤°ÊúâÈÄÉÈÄ∏Âà∞Â†Ü‰∏äÔºåËÄåÊòØÂú®Ê†à‰∏ä„ÄÇËøôÈáåÊòØÂõ†‰∏∫<code>fmt.Print</code>Á≥ªÂàóÁöÑÂáΩÊï∞ÈóÆÈ¢òÔºåÂèòÈáèÈÄÉÈÄ∏‰∫ÜÔºåÂ¶ÇÊûúÊòØ<code>print</code>Ôºå‰ºöÊâìÂç∞ÁöÑÊòØ<code>does not escape</code>„ÄÇ</p>
<h3 id="ÂûÉÂúæÂõûÊî∂">ÂûÉÂúæÂõûÊî∂</h3>
<p>‚ÄÉ‚ÄÉÂÜÖÂ≠òÂàÜÈÖç‰∫Ü‰πãÂêéË¶ÅÂõûÊî∂ÔºåËøôÂ∞±ÈúÄË¶Å GC„ÄÇ‰ªÄ‰πàÊòØ GCÔºüPHP„ÄÅJava Âíå Go Á≠âËØ≠Ë®Ä‰ΩøÁî®Ëá™Âä®ÁöÑÂÜÖÂ≠òÁÆ°ÁêÜÁ≥ªÁªüÔºåÊúâÂÜÖÂ≠òÂàÜÈÖçÂô®ÂíåÂûÉÂúæÊî∂ÈõÜÂô®Êù•‰ª£‰∏∫ÂàÜÈÖçÂíåÂõûÊî∂ÂÜÖÂ≠òÔºåÂÖ∂‰∏≠ÂûÉÂúæÊî∂ÈõÜÂô®Â∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑGC„ÄÇ</p>
<p>‚ÄÉ‚ÄÉ‰∏ªË¶ÅÂéüÂõ†ÊòØÊ†àÊòØ‰∏ÄÂùó‰∏ìÁî®ÂÜÖÂ≠òÔºå‰∏ìÈó®‰∏∫‰∫ÜÂáΩÊï∞ÊâßË°åËÄåÂáÜÂ§áÁöÑÔºåÂ≠òÂÇ®ÁùÄÂáΩÊï∞‰∏≠ÁöÑÂ±ÄÈÉ®ÂèòÈáè‰ª•ÂèäË∞ÉÁî®Ê†à„ÄÇÈô§Ê≠§‰ª•Â§ñÔºåÊ†à‰∏≠ÁöÑÊï∞ÊçÆÈÉΩÊúâ‰∏Ä‰∏™ÁâπÁÇπ‚Äî‚ÄîÁÆÄÂçï„ÄÇÊØîÂ¶ÇÂ±ÄÈÉ®ÂèòÈáè‰∏çËÉΩË¢´ÂáΩÊï∞Â§ñËÆøÈóÆÔºåÊâÄ‰ª•ËøôÂùóÂÜÖÂ≠òÁî®ÂÆåÂ∞±ÂèØ‰ª•Áõ¥Êé•ÈáäÊîæ„ÄÇÊ≠£ÊòØÂõ†‰∏∫Ëøô‰∏™ÁâπÁÇπÔºåÊ†à‰∏≠ÁöÑÊï∞ÊçÆÂèØ‰ª•ÈÄöËøáÁÆÄÂçïÁöÑÁºñËØëÂô®Êåá‰ª§Ëá™Âä®Ê∏ÖÁêÜÔºåÂπ∂‰∏çÈúÄË¶ÅÈÄöËøá GC Êù•ÂõûÊî∂„ÄÇ</p>
<p>‚ÄÉ‚ÄÉGoÁöÑÂûÉÂúæÊî∂ÈõÜÂô®‰ªé‰∏ÄÂºÄÂßãÂà∞Áé∞Âú®‰∏ÄÁõ¥Âú®ÊºîËøõÔºåÂú®v1.5ÁâàÊú¨ÂºÄÂßã‰∏âËâ≤Ê†áËÆ∞Ê≥ï‰Ωú‰∏∫ÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ïÂâç‰ΩøÁî®Mark-And-SweepÔºàÊ†áËÆ∞Ê∏ÖÈô§ÔºâÁÆóÊ≥ï„ÄÇ‰ªév1.5ÁâàÊú¨GoÂÆûÁé∞‰∫ÜÂü∫‰∫é‰∏âËâ≤Ê†áËÆ∞Ê∏ÖÈô§ÁöÑÂπ∂ÂèëÂûÉÂúæÊî∂ÈõÜÂô®ÔºåÂ§ßÂπÖÂ∫¶Èôç‰ΩéÂûÉÂúæÊî∂ÈõÜÁöÑÂª∂Ëøü‰ªéÂá†Áôæ ms Èôç‰ΩéËá≥ 10ms ‰ª•‰∏ã„ÄÇÂú®v1.8Âèà‰ΩøÁî®Ê∑∑ÂêàÂÜôÂ±èÈöúÂ∞ÜÂûÉÂúæÊî∂ÈõÜÁöÑÊó∂Èó¥Áº©Áü≠Ëá≥ 0.5ms ‰ª•ÂÜÖ„ÄÇ</p>
<h4 id="‰∏âËâ≤Ê†áËÆ∞Ê≥ï">‰∏âËâ≤Ê†áËÆ∞Ê≥ï</h4>
<p>‰∏âËâ≤Ê†áËÆ∞ÁÆóÊ≥ïÂ∞ÜÁ®ãÂ∫è‰∏≠ÁöÑÂØπË±°ÂàÜÊàêÁôΩËâ≤„ÄÅÈªëËâ≤ÂíåÁÅ∞Ëâ≤‰∏âÁ±ªÔºö</p>
<ul>
<li>ÁôΩËâ≤ÂØπË±° ‚Äî ÊΩúÂú®ÁöÑÂûÉÂúæÔºåÂÖ∂ÂÜÖÂ≠òÂèØËÉΩ‰ºöË¢´ÂûÉÂúæÊî∂ÈõÜÂô®ÂõûÊî∂Ôºõ</li>
<li>ÈªëËâ≤ÂØπË±° ‚Äî Ê¥ªË∑ÉÁöÑÂØπË±°ÔºåÂåÖÊã¨‰∏çÂ≠òÂú®‰ªª‰ΩïÂºïÁî®Â§ñÈÉ®ÊåáÈíàÁöÑÂØπË±°‰ª•Âèä‰ªéÊ†πÂØπË±°ÂèØËææÁöÑÂØπË±°ÔºåÂûÉÂúæÂõûÊî∂Âô®‰∏ç‰ºöÊâ´ÊèèËøô‰∫õÂØπË±°ÁöÑÂ≠êÂØπË±°Ôºõ</li>
<li>ÁÅ∞Ëâ≤ÂØπË±° ‚Äî Ê¥ªË∑ÉÁöÑÂØπË±°ÔºåÂõ†‰∏∫Â≠òÂú®ÊåáÂêëÁôΩËâ≤ÂØπË±°ÁöÑÂ§ñÈÉ®ÊåáÈíàÔºåÂûÉÂúæÊî∂ÈõÜÂô®‰ºöÊâ´ÊèèËøô‰∫õÂØπË±°ÁöÑÂ≠êÂØπË±°Ôºõ</li>
</ul>
<p>Á¨¨‰∏ÄÊ≠•ÔºöÂú®ËøõÂÖ•GCÁöÑ‰∏âËâ≤Ê†áËÆ∞Èò∂ÊÆµÁöÑ‰∏ÄÂºÄÂßãÔºåÊâÄÊúâÂØπË±°ÈÉΩÊòØÁôΩËâ≤ÁöÑ„ÄÇ</p>
<p><img src="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B61.jpg"
	width="720"
	height="426"
	srcset="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B61_hu47e13ab40d59a7dbeb4345aef9037e83_25943_480x0_resize_q75_box.jpg 480w, /p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B61_hu47e13ab40d59a7dbeb4345aef9037e83_25943_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="ÂûÉÂúæÂõûÊî∂1"
	
	
		class="gallery-image" 
		data-flex-grow="169"
		data-flex-basis="405px"
	
></p>
<p>Á¨¨‰∫åÊ≠•, ÈÅçÂéÜÊ†πËäÇÁÇπÈõÜÂêàÈáåÁöÑÊâÄÊúâÊ†πÂØπË±°ÔºåÊääÊ†πÂØπË±°ÂºïÁî®ÁöÑÂØπË±°Ê†áËÆ∞‰∏∫ÁÅ∞Ëâ≤Ôºå‰ªéÁôΩËâ≤ÈõÜÂêàÊîæÂÖ•ÁÅ∞Ëâ≤ÈõÜÂêà„ÄÇ</p>
<p><img src="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B62.jpg"
	width="720"
	height="428"
	srcset="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B62_hu1266a4c5006d9b335b85b45076e6c874_28044_480x0_resize_q75_box.jpg 480w, /p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B62_hu1266a4c5006d9b335b85b45076e6c874_28044_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="ÂûÉÂúæÂõûÊî∂2"
	
	
		class="gallery-image" 
		data-flex-grow="168"
		data-flex-basis="403px"
	
></p>
<p>Á¨¨‰∏âÊ≠•, ÈÅçÂéÜÁÅ∞Ëâ≤ÈõÜÂêàÔºåÂ∞ÜÁÅ∞Ëâ≤ÂØπË±°ÂºïÁî®ÁöÑÂØπË±°‰ªéÁôΩËâ≤ÈõÜÂêàÊîæÂÖ•ÁÅ∞Ëâ≤ÈõÜÂêàÔºå‰πãÂêéÂ∞ÜÊ≠§ÁÅ∞Ëâ≤ÂØπË±°ÊîæÂÖ•ÈªëËâ≤ÈõÜÂêà</p>
<p><img src="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B63.jpg"
	width="720"
	height="430"
	srcset="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B63_hufbdd632f9c4321623f7119de15bdc380_27970_480x0_resize_q75_box.jpg 480w, /p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B63_hufbdd632f9c4321623f7119de15bdc380_27970_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="ÂûÉÂúæÂõûÊî∂3"
	
	
		class="gallery-image" 
		data-flex-grow="167"
		data-flex-basis="401px"
	
></p>
<p>Á¨¨ÂõõÊ≠•ÔºöÈáçÂ§çÁ¨¨‰∏âÊ≠•, Áõ¥Âà∞ÁÅ∞Ëâ≤ÈõÜÂêà‰∏≠Êó†‰ªª‰ΩïÂØπË±°„ÄÇ</p>
<p><img src="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B64.jpg"
	width="720"
	height="439"
	srcset="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B64_hu228be264abaf447f28961f3a9f627d9d_26763_480x0_resize_q75_box.jpg 480w, /p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B64_hu228be264abaf447f28961f3a9f627d9d_26763_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="ÂûÉÂúæÂõûÊî∂4"
	
	
		class="gallery-image" 
		data-flex-grow="164"
		data-flex-basis="393px"
	
></p>
<p>Á¨¨‰∫îÊ≠•ÔºöÂõûÊî∂ÁôΩËâ≤ÈõÜÂêàÈáåÁöÑÊâÄÊúâÂØπË±°ÔºåÊú¨Ê¨°ÂûÉÂúæÂõûÊî∂ÁªìÊùü„ÄÇ</p>
<p><img src="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B65.jpg"
	width="720"
	height="428"
	srcset="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B65_hud370c5a2f5c2961c316d38b35214f886_22204_480x0_resize_q75_box.jpg 480w, /p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B65_hud370c5a2f5c2961c316d38b35214f886_22204_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="ÂûÉÂúæÂõûÊî∂5"
	
	
		class="gallery-image" 
		data-flex-grow="168"
		data-flex-basis="403px"
	
></p>
<h4 id="ÂÜôÂ±èÈöú">ÂÜôÂ±èÈöú</h4>
<p>‚ÄÉ‚ÄÉGo Âú®GCÈò∂ÊÆµÊâßË°å‰∏âËâ≤Ê†áËÆ∞ÂâçÔºåËøòÈúÄË¶ÅÂÖàÂÅö‰∏Ä‰∏™ÂáÜÂ§áÂ∑•‰Ωú‚Äî‚ÄîÊâìÂºÄÂÜôÂ±èÈöú(Write Barrier)„ÄÇÈÇ£‰πàÂÜôÂ±èÈöúÊòØ‰ªÄ‰πàÂë¢ÔºüÊàë‰ª¨Áü•ÈÅì‰∏âËâ≤Ê†áËÆ∞Ê≥ïÊòØ‰∏ÄÁßçÂèØ‰ª•Âπ∂ÂèëÊâßË°åÁöÑÁÆóÊ≥ï„ÄÇÊâÄ‰ª•Âú®GCËøêË°åËøáÁ®ã‰∏≠Á®ãÂ∫èÁöÑÂáΩÊï∞Ê†àÂÜÖÂèØËÉΩ‰ºöÊúâÊñ∞ÂàÜÈÖçÁöÑÂØπË±°ÔºåÈÇ£‰πàËøô‰∫õÂØπË±°ËØ•ÊÄé‰πàÈÄöÁü•Âà∞ GCÔºåÊÄé‰πàÁªô‰ªñ‰ª¨ÁùÄËâ≤Âë¢ÔºüÂ¶ÇÊûúËøòÊòØÊåâÁÖß‰πãÂâçÊñ∞Âª∫ÁöÑÂØπË±°Ê†áËÆ∞‰∏∫ÁôΩËâ≤Â∞±ÊúâÂèØËÉΩÂá∫Áé∞‰∏ãÂõæ‰∏≠ÁöÑÈóÆÈ¢òÔºö</p>
<p><img src="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B66.jpg"
	width="720"
	height="421"
	srcset="/p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B66_hu0075fe4baa98b4118e04fb866f09037d_29307_480x0_resize_q75_box.jpg 480w, /p/memory-management/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B66_hu0075fe4baa98b4118e04fb866f09037d_29307_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="ÂûÉÂúæÂõûÊî∂6"
	
	
		class="gallery-image" 
		data-flex-grow="171"
		data-flex-basis="410px"
	
></p>
<p>‚ÄÉ‚ÄÉÂú® GC ËøõË°åÁöÑËøáÁ®ã‰∏≠ÔºåÂ∫îÁî®Á®ãÂ∫èÊñ∞Âª∫‰∫ÜÂØπË±° IÔºåÊ≠§Êó∂Â¶ÇÊûúÂ∑≤ÁªèÊ†áËÆ∞ÊàêÈªëÁöÑÂØπË±°FÂºïÁî®‰∫ÜÂØπË±° IÔºåÈÇ£‰πàÂú®Êú¨Ê¨° GC ÊâßË°åËøáÁ®ã‰∏≠Âõ†‰∏∫ÈªëËâ≤ÂØπË±°‰∏ç‰ºöÂÜçÊ¨°Êâ´ÊèèÔºåÊâÄ‰ª•Â¶ÇÊûúIÁùÄËâ≤ÊàêÁôΩËâ≤ÁöÑËØùÔºå‰ºöË¢´ÂõûÊî∂ÊéâÔºåËøôÊòæÁÑ∂ÊòØ‰∏çÂÖÅËÆ∏ÁöÑ„ÄÇ</p>
<p>‚ÄÉ‚ÄÉËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅÊàë‰ª¨ÁöÑÂÜôÂ±èÈöúÂá∫È©¨‰∫Ü„ÄÇÂÜôÂ±èÈöú‰∏ªË¶ÅÂÅö‰∏Ä‰ª∂‰∫ãÊÉÖÔºå‰øÆÊîπÂéüÂÖàÁöÑÂÜôÈÄªËæëÔºåÁÑ∂ÂêéÂú®ÂØπË±°Êñ∞Â¢ûÁöÑÂêåÊó∂ÁªôÂÆÉÁùÄËâ≤ÔºåÂπ∂‰∏îÁùÄËâ≤‰∏∫ÁÅ∞Ëâ≤„ÄÇÂõ†Ê≠§ÊâìÂºÄ‰∫ÜÂÜôÂ±èÈöúÂèØ‰ª•‰øùËØÅ‰∫Ü‰∏âËâ≤Ê†áËÆ∞Ê≥ïÂú®Âπ∂Âèë‰∏ãÂÆâÂÖ®Ê≠£Á°ÆÂú∞ËøêË°å„ÄÇÈÇ£‰πàÊúâ‰∫∫Â∞±‰ºöÈóÆËøô‰∫õÂÜôÂ±èÈöúÊ†áËÆ∞ÊàêÁÅ∞Ëâ≤ÁöÑÂØπË±°‰ªÄ‰πàÊó∂ÂÄôÂõûÊî∂Âë¢ÔºüÁ≠îÊ°àÊòØÂêéÁª≠ÁöÑ GC ËøáÁ®ã‰∏≠ÂõûÊî∂ÔºåÂú®Êñ∞ÁöÑ GC ËøáÁ®ã‰∏≠ÊâÄÊúâÂ∑≤Â≠òÂØπË±°Â∞±Âèà‰ªéÁôΩËâ≤ÂºÄÂßãÈÄêÊ≠•Ë¢´Ê†áËÆ∞Âï¶„ÄÇ</p>
<h4 id="‰∏âËâ≤‰∏çÂèòÊÄß">‰∏âËâ≤‰∏çÂèòÊÄß</h4>
<p>‚ÄÉ‚ÄÉÊÉ≥Ë¶ÅÂú®Âπ∂ÂèëÊàñËÄÖÂ¢ûÈáèÁöÑÊ†áËÆ∞ÁÆóÊ≥ï‰∏≠‰øùËØÅÊ≠£Á°ÆÊÄßÔºåÊàë‰ª¨ÈúÄË¶ÅËææÊàê‰ª•‰∏ã‰∏§Áßç‰∏âËâ≤‰∏çÂèòÊÄßÔºàTri-color invariantÔºâ‰∏≠ÁöÑ‰ªªÊÑè‰∏ÄÁßçÔºö</p>
<ul>
<li>Âº∫‰∏âËâ≤‰∏çÂèòÊÄß ‚Äî ÈªëËâ≤ÂØπË±°‰∏ç‰ºöÊåáÂêëÁôΩËâ≤ÂØπË±°ÔºåÂè™‰ºöÊåáÂêëÁÅ∞Ëâ≤ÂØπË±°ÊàñËÄÖÈªëËâ≤ÂØπË±°Ôºõ</li>
<li>Âº±‰∏âËâ≤‰∏çÂèòÊÄß ‚Äî ÈªëËâ≤ÂØπË±°ÊåáÂêëÁöÑÁôΩËâ≤ÂØπË±°ÂøÖÈ°ªÂåÖÂê´‰∏ÄÊù°‰ªéÁÅ∞Ëâ≤ÂØπË±°ÁªèÁî±Â§ö‰∏™ÁôΩËâ≤ÂØπË±°ÁöÑÂèØËææË∑ØÂæÑ</li>
</ul>
<h4 id="Â±èÈöúÊäÄÊúØ">Â±èÈöúÊäÄÊúØ</h4>
<p>‚ÄÉ‚ÄÉÂûÉÂúæÊî∂ÈõÜ‰∏≠ÁöÑÂ±èÈöúÊäÄÊúØÊõ¥ÂÉèÊòØ‰∏Ä‰∏™Èí©Â≠êÊñπÊ≥ïÔºåÂÆÉÊòØÂú®Áî®Êà∑Á®ãÂ∫èËØªÂèñÂØπË±°„ÄÅÂàõÂª∫Êñ∞ÂØπË±°‰ª•ÂèäÊõ¥Êñ∞ÂØπË±°ÊåáÈíàÊó∂ÊâßË°åÁöÑ‰∏ÄÊÆµ‰ª£Á†ÅÔºåÊ†πÊçÆÊìç‰ΩúÁ±ªÂûãÁöÑ‰∏çÂêåÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÆÉ‰ª¨ÂàÜÊàêËØªÂ±èÈöúÔºàRead barrierÔºâÂíåÂÜôÂ±èÈöúÔºàWrite barrierÔºâ‰∏§ÁßçÔºåÂõ†‰∏∫ËØªÂ±èÈöúÈúÄË¶ÅÂú®ËØªÊìç‰Ωú‰∏≠Âä†ÂÖ•‰ª£Á†ÅÁâáÊÆµÔºåÂØπÁî®Êà∑Á®ãÂ∫èÁöÑÊÄßËÉΩÂΩ±ÂìçÂæàÂ§ßÔºåÊâÄ‰ª•ÁºñÁ®ãËØ≠Ë®ÄÂæÄÂæÄÈÉΩ‰ºöÈááÁî®ÂÜôÂ±èÈöú‰øùËØÅ‰∏âËâ≤‰∏çÂèòÊÄß„ÄÇ</p>
<h4 id="go-ÁöÑÊ∑∑ÂêàÂÜôÂ±èÈöú">Go ÁöÑÊ∑∑ÂêàÂÜôÂ±èÈöú</h4>
<p>‚ÄÉ‚ÄÉÂú®Go ËØ≠Ë®Ä v1.7 ÁâàÊú¨‰πãÂâçÔºå‰ΩøÁî®ÁöÑÊòØDijkstraÊèíÂÖ•ÂÜôÂ±èÈöú‰øùËØÅÂº∫‰∏âËâ≤‰∏çÂèòÊÄßÔºå‰ΩÜÊòØËøêË°åÊó∂Âπ∂Ê≤°ÊúâÂú®ÊâÄÊúâÁöÑÂûÉÂúæÊî∂ÈõÜÊ†πÂØπË±°‰∏äÂºÄÂêØÊèíÂÖ•ÂÜôÂ±èÈöú„ÄÇÂõ†‰∏∫ Go ËØ≠Ë®ÄÁöÑÂ∫îÁî®Á®ãÂ∫èÂèØËÉΩÂåÖÂê´ÊàêÁôæ‰∏äÂçÉÁöÑ goroutineÔºåËÄåÂûÉÂúæÊî∂ÈõÜÁöÑÊ†πÂØπË±°‰∏ÄËà¨ÂåÖÊã¨ÂÖ®Â±ÄÂèòÈáèÂíåÊ†àÂØπË±°ÔºåÂ¶ÇÊûúËøêË°åÊó∂ÈúÄË¶ÅÂú®Âá†Áôæ‰∏™ goroutine ÁöÑÊ†à‰∏äÈÉΩÂºÄÂêØÂÜôÂ±èÈöúÔºå‰ºöÂ∏¶Êù•Â∑®Â§ßÁöÑÈ¢ùÂ§ñÂºÄÈîÄÔºåÊâÄ‰ª• Go Âõ¢ÈòüÂú®ÂÆûÁé∞‰∏äÈÄâÊã©‰∫ÜÂú®Ê†áËÆ∞Èò∂ÊÆµÂÆåÊàêÊó∂ÊöÇÂÅúÁ®ãÂ∫è„ÄÅÂ∞ÜÊâÄÊúâÊ†àÂØπË±°Ê†áËÆ∞‰∏∫ÁÅ∞Ëâ≤Âπ∂ÈáçÊñ∞Êâ´ÊèèÔºåÂú®Ê¥ªË∑É goroutine ÈùûÂ∏∏Â§öÁöÑÁ®ãÂ∫è‰∏≠ÔºåÈáçÊñ∞Êâ´ÊèèÁöÑËøáÁ®ãÈúÄË¶ÅÂç†Áî® 10 ~ 100ms ÁöÑÊó∂Èó¥„ÄÇ</p>
<p>Go ËØ≠Ë®ÄÂú® v1.8 ÁªÑÂêà Dijkstra ÊèíÂÖ•ÂÜôÂ±èÈöúÂíå Yuasa Âà†Èô§ÂÜôÂ±èÈöúÊûÑÊàê‰∫ÜÂ¶Ç‰∏ãÊâÄÁ§∫ÁöÑÊ∑∑ÂêàÂÜôÂ±èÈöúÔºåËØ•ÂÜôÂ±èÈöú‰ºöÂ∞ÜË¢´Ë¶ÜÁõñÁöÑÂØπË±°Ê†áËÆ∞ÊàêÁÅ∞Ëâ≤Âπ∂Âú®ÂΩìÂâçÊ†àÊ≤°ÊúâÊâ´ÊèèÊó∂Â∞ÜÊñ∞ÂØπË±°‰πüÊ†áËÆ∞ÊàêÁÅ∞Ëâ≤Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nf">writePointer</span><span class="p">(</span><span class="nx">slot</span><span class="p">,</span> <span class="nx">ptr</span><span class="p">):</span>
    <span class="nf">shade</span><span class="p">(</span><span class="o">*</span><span class="nx">slot</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">current</span> <span class="nx">stack</span> <span class="nx">is</span> <span class="nx">grey</span><span class="p">:</span>
        <span class="nf">shade</span><span class="p">(</span><span class="nx">ptr</span><span class="p">)</span>
    <span class="o">*</span><span class="nx">slot</span> <span class="p">=</span> <span class="nx">ptr</span>
</code></pre></td></tr></table>
</div>
</div><p>‚ÄÉ‚ÄÉ‰∏∫‰∫ÜÁßªÈô§Ê†àÁöÑÈáçÊâ´ÊèèËøáÁ®ãÔºåÈô§‰∫ÜÂºïÂÖ•Ê∑∑ÂêàÂÜôÂ±èÈöú‰πãÂ§ñÔºåÂú®ÂûÉÂúæÊî∂ÈõÜÁöÑÊ†áËÆ∞Èò∂ÊÆµÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÂ∞ÜÂàõÂª∫ÁöÑÊâÄÊúâÊñ∞ÂØπË±°ÈÉΩÊ†áËÆ∞ÊàêÈªëËâ≤ÔºåÈò≤Ê≠¢Êñ∞ÂàÜÈÖçÁöÑÊ†àÂÜÖÂ≠òÂíåÂ†ÜÂÜÖÂ≠ò‰∏≠ÁöÑÂØπË±°Ë¢´ÈîôËØØÂú∞ÂõûÊî∂ÔºåÂõ†‰∏∫Ê†àÂÜÖÂ≠òÂú®Ê†áËÆ∞Èò∂ÊÆµÊúÄÁªàÈÉΩ‰ºöÂèò‰∏∫ÈªëËâ≤ÔºåÊâÄ‰ª•‰∏çÂÜçÈúÄË¶ÅÈáçÊñ∞Êâ´ÊèèÊ†àÁ©∫Èó¥„ÄÇ</p>
<h4 id="‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑgcËøáÁ®ã">‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑGCËøáÁ®ã</h4>
<p>‚ÄÉ‚ÄÉGoÁöÑÂûÉÂúæÂõûÊî∂Âô®Âú®‰ΩøÁî®‰∫Ü‰∏âËâ≤Ê†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ïÂíåÊ∑∑ÂêàÂÜôÂ±èÈöúÂêéÂ§ßÂ§ßÂáèÂ∞ë‰∫ÜÊöÇÂÅúÁ®ãÂ∫èÔºàSTWÔºâÁöÑÊó∂Èó¥Ôºå‰∏ªË¶ÅÊòØÂú®ÂºÄÂêØÂÜôÂ±èÈöúÂâçÂíåÁßªÈô§ÂÜôÂ±èÈöúÂâçÊöÇÂÅúÂ∫îÁî®Á®ãÂ∫è„ÄÇ</p>
<p>‚ÄÉ‚ÄÉGoÁöÑÂûÉÂúæÊî∂ÈõÜÁöÑÊï¥‰∏™ËøáÁ®ãÂèØ‰ª•ÂàÜÊàêÊ†áËÆ∞ÂáÜÂ§á„ÄÅÊ†áËÆ∞„ÄÅÊ†áËÆ∞ÁªàÊ≠¢ÂíåÊ∏ÖÈô§Âõõ‰∏™‰∏çÂêåÈò∂ÊÆµÔºåÊØè‰∏™Èò∂ÊÆµÂÆåÊàêÁöÑÂ∑•‰ΩúÂ¶Ç‰∏ãÔºö</p>
<h5 id="Ê†áËÆ∞ÂáÜÂ§áÈò∂ÊÆµ">Ê†áËÆ∞ÂáÜÂ§áÈò∂ÊÆµ</h5>
<p>‚ÄÉ‚ÄÉÊöÇÂÅúÁ®ãÂ∫èÔºåÊâÄÊúâÁöÑÂ§ÑÁêÜÂô®Âú®ËøôÊó∂‰ºöËøõÂÖ•ÂÆâÂÖ®ÁÇπÔºàSafe pointÔºâ</p>
<h5 id="Ê†áËÆ∞Èò∂ÊÆµ">Ê†áËÆ∞Èò∂ÊÆµ</h5>
<ul>
<li>Â∞ÜÁä∂ÊÄÅÂàáÊç¢Ëá≥ <code>_GCmark</code>„ÄÅÂºÄÂêØÂÜôÂ±èÈöú„ÄÅÁî®Êà∑Á®ãÂ∫èÂçèÂä©ÔºàMutator AssisteÔºâÂπ∂Â∞ÜÊ†πÂØπË±°ÂÖ•ÈòüÔºõ</li>
<li>ÊÅ¢Â§çÊâßË°åÁ®ãÂ∫èÔºåÊ†áËÆ∞ËøõÁ®ãÂíåÁî®‰∫éÂçèÂä©ÁöÑÁî®Êà∑Á®ãÂ∫è‰ºöÂºÄÂßãÂπ∂ÂèëÊ†áËÆ∞ÂÜÖÂ≠ò‰∏≠ÁöÑÂØπË±°ÔºåÊ†áËÆ∞Áî®ÁöÑÁÆóÊ≥ïÂ∞±ÊòØ‰∏äÈù¢‰ªãÁªçÁöÑ‰∏âËâ≤Ê†áËÆ∞Ê∏ÖÈô§Ê≥ï„ÄÇÂÜôÂ±èÈöú‰ºöÂ∞ÜË¢´Ë¶ÜÁõñÁöÑÊåáÈíàÂíåÊñ∞ÊåáÈíàÈÉΩÊ†áËÆ∞ÊàêÁÅ∞Ëâ≤ÔºåËÄåÊâÄÊúâÊñ∞ÂàõÂª∫ÁöÑÂØπË±°ÈÉΩ‰ºöË¢´Áõ¥Êé•Ê†áËÆ∞ÊàêÈªëËâ≤Ôºõ</li>
<li>ÂºÄÂßãÊâ´ÊèèÊ†πÂØπË±°ÔºåÂåÖÊã¨ÊâÄÊúâ goroutine ÁöÑÊ†à„ÄÅÂÖ®Â±ÄÂØπË±°‰ª•Âèä‰∏çÂú®Â†Ü‰∏≠ÁöÑËøêË°åÊó∂Êï∞ÊçÆÁªìÊûÑÔºåÊâ´Êèè goroutine Ê†àÊúüÈó¥‰ºöÊöÇÂÅúÂΩìÂâçÂ§ÑÁêÜÂô®Ôºõ</li>
<li>‰æùÊ¨°Â§ÑÁêÜÁÅ∞Ëâ≤ÈòüÂàó‰∏≠ÁöÑÂØπË±°ÔºåÂ∞ÜÂØπË±°Ê†áËÆ∞ÊàêÈªëËâ≤Âπ∂Â∞ÜÂÆÉ‰ª¨ÊåáÂêëÁöÑÂØπË±°Ê†áËÆ∞ÊàêÁÅ∞Ëâ≤Ôºõ</li>
<li>‰ΩøÁî®ÂàÜÂ∏ÉÂºèÁöÑÁªàÊ≠¢ÁÆóÊ≥ïÊ£ÄÊü•Ââ©‰ΩôÁöÑÂ∑•‰ΩúÔºåÂèëÁé∞Ê†áËÆ∞Èò∂ÊÆµÂÆåÊàêÂêéËøõÂÖ•Ê†áËÆ∞ÁªàÊ≠¢Èò∂ÊÆµÔºõ</li>
</ul>
<p>‚ÄÉ‚ÄÉÂú®Ê†áËÆ∞ÂºÄÂßãÁöÑÊó∂ÂÄôÔºåÊî∂ÈõÜÂô®‰ºöÈªòËÆ§Êä¢Âç† 25% ÁöÑ CPU ÊÄßËÉΩÔºåÂâ©‰∏ãÁöÑ75%‰ºöÂàÜÈÖçÁªôÁ®ãÂ∫èÊâßË°å„ÄÇ‰ΩÜÊòØ‰∏ÄÊó¶Êî∂ÈõÜÂô®ËÆ§‰∏∫Êù•‰∏çÂèäËøõË°åÊ†áËÆ∞‰ªªÂä°‰∫ÜÔºåÂ∞±‰ºöÊîπÂèòËøô‰∏™ 25% ÁöÑÊÄßËÉΩÂàÜÈÖç„ÄÇËøô‰∏™Êó∂ÂÄôÊî∂ÈõÜÂô®‰ºöÊä¢Âç†Á®ãÂ∫èÈ¢ùÂ§ñÁöÑ CPUÔºåËøôÈÉ®ÂàÜË¢´Êä¢Âç† goroutine Êúâ‰∏™ÂêçÂ≠óÂè´ Mark Assist„ÄÇËÄå‰∏îÂõ†‰∏∫Êä¢Âç† CPUÁöÑÁõÆÁöÑ‰∏ªË¶ÅÊòØ GC Êù•‰∏çÂèäÊ†áËÆ∞Êñ∞Â¢ûÁöÑÂÜÖÂ≠òÔºåÈÇ£‰πàÊä¢Âç†Ê≠£Âú®ÂàÜÈÖçÂÜÖÂ≠òÁöÑ goroutine ÊïàÊûú‰ºöÊõ¥Âä†Â•ΩÔºåÊâÄ‰ª•ÂàÜÈÖçÂÜÖÂ≠òÈÄüÂ∫¶Ë∂äÂø´ÁöÑ goroutine Â∞±‰ºöË¢´Êä¢Âç†Ë∂äÂ§öÁöÑËµÑÊ∫ê„ÄÇ</p>
<p>‚ÄÉ‚ÄÉÈô§Ê≠§‰ª•Â§ñ GC ËøòÊúâ‰∏Ä‰∏™È¢ùÂ§ñÁöÑ‰ºòÂåñÔºå‰∏ÄÊó¶ÊüêÊ¨° GC ‰∏≠Áî®Âà∞‰∫Ü Mark AssistÔºå‰∏ãÊ¨° GC Â∞±‰ºöÊèêÂâçÂºÄÂßãÔºåÁõÆÁöÑÊòØÂ∞ΩÈáèÂáèÂ∞ë Mark Assist ÁöÑ‰ΩøÁî®Ôºå‰ªéËÄåÈÅøÂÖçÂΩ±ÂìçÊ≠£Â∏∏ÁöÑÁ®ãÂ∫èÊâßË°å„ÄÇ</p>
<h5 id="Ê†áËÆ∞ÁªàÊ≠¢Èò∂ÊÆµ">Ê†áËÆ∞ÁªàÊ≠¢Èò∂ÊÆµ</h5>
<ul>
<li>ÊöÇÂÅúÁ®ãÂ∫è„ÄÅÂ∞ÜÁä∂ÊÄÅÂàáÊç¢Ëá≥ <code>_GCmarktermination</code> Âπ∂ÂÖ≥Èó≠ËæÖÂä©Ê†áËÆ∞ÁöÑÁî®Êà∑Á®ãÂ∫èÔºõ</li>
<li>Ê∏ÖÁêÜÂ§ÑÁêÜÂô®‰∏äÁöÑÁ∫øÁ®ãÁºìÂ≠òÔºõ</li>
</ul>
<h5 id="Ê∏ÖÁêÜÈò∂ÊÆµ">Ê∏ÖÁêÜÈò∂ÊÆµ</h5>
<ul>
<li>Â∞ÜÁä∂ÊÄÅÂàáÊç¢Ëá≥<code>_GCoff</code>ÂºÄÂßãÊ∏ÖÁêÜÈò∂ÊÆµÔºåÂàùÂßãÂåñÊ∏ÖÁêÜÁä∂ÊÄÅÂπ∂ÂÖ≥Èó≠ÂÜôÂ±èÈöúÔºõ</li>
<li>ÊÅ¢Â§çÁî®Êà∑Á®ãÂ∫èÔºåÊâÄÊúâÊñ∞ÂàõÂª∫ÁöÑÂØπË±°‰ºöÊ†áËÆ∞ÊàêÁôΩËâ≤Ôºõ</li>
<li>ÂêéÂè∞Âπ∂ÂèëÊ∏ÖÁêÜÊâÄÊúâÁöÑÂÜÖÂ≠òÁÆ°ÁêÜÂçïÂÖÉÔºåÂΩì goroutine Áî≥ËØ∑Êñ∞ÁöÑÂÜÖÂ≠òÁÆ°ÁêÜÂçïÂÖÉÊó∂Â∞±‰ºöËß¶ÂèëÊ∏ÖÁêÜÔºõ</li>
</ul>
<p>Ê∏ÖÁêÜËøô‰∏™ËøáÁ®ãÊòØÂπ∂ÂèëËøõË°åÁöÑ„ÄÇÊ∏ÖÊâ´ÁöÑÂºÄÈîÄ‰ºöÂ¢ûÂä†Âà∞ÂàÜÈÖçÂ†ÜÂÜÖÂ≠òÁöÑËøáÁ®ã‰∏≠ÔºåÊâÄ‰ª•Ëøô‰∏™Êó∂Èó¥‰πüÊòØÊó†ÊÑüÁü•ÁöÑÔºå‰∏ç‰ºö‰∏éÂûÉÂúæÂõûÊî∂ÁöÑÂª∂ËøüÁõ∏ÂÖ≥ËÅî„ÄÇ</p>
<h5 id="ÊÄªÁªì">ÊÄªÁªì</h5>
<p>‚ÄÉ‚ÄÉGoÁöÑGCÊúÄÊó©Êúü‰ΩøÁî®ÁöÑÂõûÊî∂ÁÆóÊ≥ïÊòØÊ†áËÆ∞-Ê∏ÖÈô§ÁÆóÊ≥ïÔºåËØ•ÁÆóÊ≥ïÈúÄË¶ÅÂú®ÊâßË°åÊúüÈó¥ÈúÄË¶ÅÊöÇÂÅúÂ∫îÁî®Á®ãÂ∫è(STW)ÔºåÊó†Ê≥ïÊª°Ë∂≥Âπ∂ÂèëÁ®ãÂ∫èÁöÑÂÆûÊó∂ÊÄß„ÄÇÂêéÈù¢GoÁöÑGCËΩ¨‰∏∫‰ΩøÁî®‰∏âËâ≤Ê†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ïÔºåÂπ∂ÈÄöËøáÊ∑∑ÂêàÂÜôÂ±èÈöúÊäÄÊúØ‰øùËØÅ‰∫ÜGoÂπ∂ÂèëÊâßË°åGCÊó∂ÂÜÖÂ≠ò‰∏≠ÂØπË±°ÁöÑ‰∏âËâ≤‰∏ÄËá¥ÊÄßÔºàËøôÈáåÁöÑÂπ∂ÂèëÊåáÁöÑÊòØGCÂíåÂ∫îÁî®Á®ãÂ∫èÁöÑgoroutineËÉΩÂêåÊó∂ÊâßË°åÔºâ„ÄÇ</p>
<p>‚ÄÉ‚ÄÉ‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑÂûÉÂúæÂõûÊî∂‰ºöÂàÜ‰∏∫Âõõ‰∏™Èò∂ÊÆµÔºåÂàÜÂà´ÊòØÊ†áËÆ∞ÂáÜÂ§á„ÄÅÊ†áËÆ∞„ÄÅÁªìÊùüÊ†áËÆ∞‰ª•ÂèäÊ∏ÖÁêÜ„ÄÇÂú®Ê†áËÆ∞ÂáÜÂ§áÂíåÊ†áËÆ∞ÁªìÊùüÈò∂ÊÆµ‰ºöÈúÄË¶Å STWÔºåÊ†áËÆ∞Èò∂ÊÆµ‰ºöÂáèÂ∞ëÁ®ãÂ∫èÁöÑÊÄßËÉΩÔºåËÄåÊ∏ÖÁêÜÈò∂ÊÆµÊòØ‰∏ç‰ºöÂØπÁ®ãÂ∫èÊúâÂΩ±ÂìçÁöÑ„ÄÇ</p>
<h3 id="ÂÜÖÂ≠òÊ≥ÑÊºè">ÂÜÖÂ≠òÊ≥ÑÊºè</h3>
<p>‚ÄÉ‚ÄÉÂ∞ΩÁÆ°ÊúâÂûÉÂúæÂõûÊî∂Êú∫Âà∂ÔºåËÄå‰∏î Go ËØ≠Ë®ÄÁöÑÂûÉÂúæÂõûÊî∂Â∑≤ÁªèÂÅöÁöÑÈùûÂ∏∏‰ºòÁßÄ‰∫ÜÔºåÂæàÂ§öÊÉÖÂÜµÈÉΩ‰∏çÈúÄË¶ÅÊàë‰ª¨ÊâãÂä®ÁöÑÈáäÊîæÂÜÖÂ≠òÔºå‰ΩÜÊòØÁúüÁöÑÂ∞±ÂÆåÂÖ®Ê≤°ÊúâÈóÆÈ¢ò‰∫Ü‰πàÔºüÂΩìÁÑ∂‰∏çÊòØÔºåGo ËøòÈù¢‰∏¥ÁùÄÈùûÂ∏∏ÂÆπÊòìÂá∫Áé∞ÁöÑÂÜÖÂ≠òÊ≥ÑÈú≤ÈóÆÈ¢ò„ÄÇ</p>
<p>ËßÇÂØüÂ¶Ç‰∏ã‰ª£Á†ÅÔºåÊòØÂê¶ÊúâÈóÆÈ¢òÔºü</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">a</span> <span class="p">[]</span><span class="kt">int</span>

<span class="kd">func</span> <span class="nf">f</span><span class="p">(</span><span class="nx">b</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">[]</span><span class="kt">int</span> <span class="p">{</span>
	<span class="nx">a</span> <span class="p">=</span> <span class="nx">b</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
	<span class="k">return</span> <span class="nx">a</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="o">...</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>‰∏æ‰∏™Áîü‰∫ßÁéØÂ¢É‰∏≠ÁöÑ‰æãÂ≠êÔºå‰ΩøÁî® Go ËØ≠Ë®ÄÂºÄÂèë‰∫Ü‰∏Ä‰∏™ Gateway ÊúçÂä°ÔºåÂú®ÂèëÂ∏ÉÊµãËØïÁéØÂ¢ÉÂêéÔºåÂÅáËÆæÂºÄ‰∫Ü3000‰∏™ TCP ËøûÊé•Âà∞Ê∏∏ÊàèÔºåÊ∏∏ÊàèÊï∞ÊçÆÊ≤°ÊúâÈóÆÈ¢òÔºå‰ΩÜÊòØÂèëÁé∞ÂÜÖÂ≠ò‰ΩøÁî®Èáè‰ºöÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÊåÅÁª≠Â¢ûÂä†ÔºåÂõ†Ê≠§ÊúçÂä°ÁöÑPod‰ºöÈöî‰∏ÄÊÆµÊó∂Èó¥ÈáçÂêØ‰∏ÄÊ¨°„ÄÇÂéüÂõ†ÊòØ Gateway ÊòØ‰∏Ä‰∏™ËØªÂÜôÂàÜÁ¶ªÁöÑ TCP ÊúçÂä°ÔºåÊØè‰∏Ä‰∏™ËøûÊé•Ë¶ÅÊúâ‰∏§‰∏™ goroutineÔºå‰∏Ä‰∏™ËØª‰∏Ä‰∏™ÂÜôÔºå‰ΩÜÊòØ TCP ËøûÊé•Êñ≠ÂºÄÂêéÔºåÂõ†‰∏∫Êó∂Â∫èÈóÆÈ¢òÔºågoroutine‰ºöÈòªÂ°ûÔºå‰∏ÄÁõ¥Ê≤°ÊúâÁªìÊùüÔºåÊ≤°ÊúâÈáäÊîæÊéâ„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåÂÜÖÂ≠òÊ≥ÑÊºèÔºàMemory LeakÔºâÊòØÊåáÁ®ãÂ∫è‰∏≠Â∑≤Âä®ÊÄÅÂàÜÈÖçÁöÑÂ†ÜÂÜÖÂ≠òÁî±‰∫éÊüêÁßçÂéüÂõ†Á®ãÂ∫èÊú™ÈáäÊîæÊàñÊó†Ê≥ïÈáäÊîæÔºåÈÄ†ÊàêÁ≥ªÁªüÂÜÖÂ≠òÁöÑÊµ™Ë¥πÔºåÂØºËá¥Á®ãÂ∫èËøêË°åÈÄüÂ∫¶ÂáèÊÖ¢ÁîöËá≥Á≥ªÁªüÂ¥©Ê∫ÉÁ≠â‰∏•ÈáçÂêéÊûú„ÄÇÂèØ‰ª•ÊòØÁî® pprof ÂàÜÊûê‰ª£Á†ÅÊÄßËÉΩÔºåÈÖçÂêà graphvizÔºå‰∫åËÄÖÈÖçÂêàËÉΩÂàÜÊûêÁ®ãÂ∫èËøêË°å‰∏≠ÁöÑÁ≥ªÁªüÂèÇÊï∞ÂíåÁ®ãÂ∫èÂèÇÊï∞Á≠âÔºåÂÆö‰ΩçÂà∞ÊØè‰∏™ÂáΩÊï∞ÔºåÊõ¥Áõ¥ËßÇÁöÑÁúãÂá∫Âç†Áî®ÂÜÖÂ≠ò„ÄÅ‰ΩøÁî®ËÄóÊó∂Á≠âÊÉÖÂÜµ„ÄÇ</p>
<p>ÂõûÂà∞ÂàöÊâçÁöÑÈóÆÈ¢òÔºåÁî±‰∫éaÂíåbÊåáÂêëÂêå‰∏Ä‰∏™Â∫ïÂ±ÇÊï∞ÁªÑÔºåaÊòØÈùôÊÄÅÂ≠òÂÇ®ÂèòÈáèË¢´ÂàÜÈÖç‰∫ÜÂõ∫ÂÆöÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåÂ¶ÇÊûúÁ®ãÂ∫è<code>f(b []int)</code>ÁªìÊùü‰∫ÜÔºåbËøôÁßçÂä®ÊÄÅÂèòÈáèÂ∫îËØ•Ë¢´ÂõûÊî∂‰∫ÜÔºå‰ΩÜÊòØÁî±‰∫éaËøòÂú®‰ΩøÁî®ÔºåÂ∞ΩÁÆ°Âè™ÊòØ‰ΩøÁî®‰∏§‰∏™ÂÖÉÁ¥†ÔºåÂêéÈù¢ÁöÑÂÖÉÁ¥†ÊØ´Êó†‰ΩúÁî®Ôºå‰ΩÜÊòØ‰æùÁÑ∂‰∏ç‰ºöË¢´GCÔºåÊâÄ‰ª•ÂØºËá¥‰∫ÜÊ≥ÑÊºè„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">a</span> <span class="p">[]</span><span class="kt">int</span> <span class="c1">// ÈùôÊÄÅÂ≠òÂÇ®ÂèòÈáè
</span><span class="c1"></span>
<span class="kd">func</span> <span class="nf">f</span><span class="p">(</span><span class="nx">b</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">[]</span><span class="kt">int</span> <span class="p">{</span>
	<span class="c1">// b ÊòØÂä®ÊÄÅÂ≠òÂÇ®ÂèòÈáè
</span><span class="c1"></span>	<span class="nx">a</span> <span class="p">=</span> <span class="nx">b</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>  <span class="c1">// a b ÈÉΩÊåáÂêëÂêå‰∏Ä‰∏™Â∫ïÂ±ÇÊï∞ÁªÑÔºåÂè™‰∏çËøáaÂè™ÂåÖÂê´[:2]ÔºåbÊòØÂÖ®ÈÉ®
</span><span class="c1"></span>	<span class="k">return</span> <span class="nx">a</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="o">...</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Ê®°Êãü‰∏Ä‰∏™ÂÜÖÂ≠òÊ≥ÑÊºèÁöÑ‰æãÂ≠êÔºå</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">http</span><span class="p">.</span><span class="nf">ListenAndServe</span><span class="p">(</span><span class="s">&#34;0.0.0.0:8090&#34;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}()</span>

    <span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kd">struct</span><span class="p">{})</span>
    <span class="kd">var</span> <span class="nx">wg</span> <span class="nx">sync</span><span class="p">.</span><span class="nx">WaitGroup</span>
    <span class="nx">wg</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="k">go</span> <span class="nf">one</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">wg</span><span class="p">.</span><span class="nf">Wait</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">one</span><span class="p">(</span><span class="nx">c</span> <span class="kd">chan</span> <span class="kd">struct</span><span class="p">{})</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="p">[]</span><span class="kt">int64</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="nx">a</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">rand</span><span class="p">.</span><span class="nf">Int63</span><span class="p">())</span>
    <span class="p">}</span>
  
    <span class="o">&lt;-</span><span class="nx">c</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ËøôÈáåÁöÑ goroutine Áî® channel Êù•Ê®°ÊãüÈòªÂ°ûÔºå‰∏ÄÁõ¥Ê≤°ÊúâÂÖ≥Èó≠ÔºåÊâÄ‰ª•ÂÜÖÂ≠ò‰ºöÁàÜÁÇ∏Â¢ûÈïø„ÄÇ</p>
<p>Êèê‰∏™ÈóÆÈ¢òÔºåÂÅáËÆæÊàë‰ª¨Ê≠£Â∏∏ÂÖ≥Èó≠ goroutine ‰∫ÜÔºåÂÜÖÂ≠òÂ∞±‰ºöÈôç‰∏ãÊù•‰∫Ü‰πàÔºü</p>
<p>ÂΩìÊâÄÊúâÁöÑ goroutine ÈÉΩÁªìÊùüÊó∂ÔºåGC ‰ºöÂºÄÂßãÂõûÊî∂ÂàáÁâáÔºå‰ΩÜÊòØË¢´ÂõûÊî∂ÁöÑÂÜÖÂ≠ò‰∏ç‰ºöÁõ¥Êé•Êç¢ÁªôÊìç‰ΩúÁ≥ªÁªüÔºåËÄåÊòØÁî± Go ÁöÑ runtime ÊöÇÊó∂‰øùÁÆ°ÔºàÂú® pprof ÂàÜÊûê‰∏≠ÔºåÂèÇÊï∞ HeapIdle ÂÄº‰ºöÂèòÂ§ßÔºâÔºåÊé•‰∏ãÊù•Â¶ÇÊûúÂÜçÊ¨°ÈúÄË¶ÅÂàÜÈÖçÁ©∫Èó¥ÔºåGo ÁöÑ runtime ÂèØ‰ª•‰∏çÂêëÊìç‰ΩúÁ≥ªÁªüÁî≥ËØ∑ÂÜÖÂ≠òÔºåÁõ¥Êé•‰ªéËá™Â∑±‰øùÁÆ°ÁöÑÈó≤ÁΩÆÂÜÖÂ≠ò‰∏≠ÂàÜÈÖçÔºåËøôÊ†∑ÂèØ‰ª•ÊèêÈ´òÁ®ãÂ∫èÊÄßËÉΩ„ÄÇËá≥‰∫é Go ÁöÑ runtime ‰ªÄ‰πàÊó∂ÂÄôÊääËøôÈÉ®ÂàÜÂÜÖÂ≠òËøòÁªôÊìç‰ΩúÁ≥ªÁªüÔºå‰∏çÂêåÁöÑÂàÜÈÖçÁ≠ñÁï•Âíå‰∏çÂêåÁöÑÁ≥ªÁªü‰∏çÂ§™‰∏ÄÊ†∑„ÄÇ</p>
<h4 id="ÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÂ∏∏ËßÅÂú∫ÊôØ">ÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÂ∏∏ËßÅÂú∫ÊôØ</h4>
<p>ÂÜÖÂ≠òÊ≥ÑÊºè‰∏ªË¶ÅÂ∞±ÊòØ goroutine Ê≥ÑÊºèÔºåËøôÈáåÊääÂèØËÉΩÂá∫Áé∞ÁöÑÂú∫ÊôØÈÉΩÊÄªÁªì‰∏Ä‰∏ãÔºö</p>
<ul>
<li>Ëé∑ÂèñÈïøÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑ‰∏ÄÊÆµÂØºËá¥ÈïøÂ≠óÁ¨¶‰∏≤Êú™ÈáäÊîæ</li>
<li>Ëé∑ÂèñÈïøslice‰∏≠ÁöÑ‰∏ÄÊÆµÂØºËá¥ÈïøsliceÊú™ÈáäÊîæ</li>
<li>Âú®ÈïøsliceÊñ∞Âª∫sliceÂØºËá¥Ê≥ÑÊºè</li>
<li>goroutineÊ≥ÑÊºè</li>
<li>time.TickerÊú™ÂÖ≥Èó≠ÂØºËá¥Ê≥ÑÊºè</li>
<li>FinalizerÂØºËá¥Ê≥ÑÊºè</li>
<li>Deferring Function Call ÂØºËá¥Ê≥ÑÊºè</li>
</ul>
<h4 id="goroutineÊ≥ÑÊºè">GoroutineÊ≥ÑÊºè</h4>
<p>Go ËØ≠Ë®ÄÈ°πÁõÆ‰∏≠ÂæàÂ∏∏ËßÅÁöÑÂÜÖÂ≠òÊ≥ÑÊºèÊòØ goroutine Ê≥ÑÊºèÔºåÂØºËá¥ goroutine Ê≥ÑÊºèÊúâ‰∏§ÁÇπÂéüÂõ†Ôºö</p>
<ul>
<li>goroutine Êú¨Ë∫´ÁöÑÂ†ÜÊ†àÂ§ßÂ∞èÊòØ2 KBÔºåÊàë‰ª¨ÂºÄÂêØ‰∏Ä‰∏™Êñ∞ÁöÑ goroutineÔºåËá≥Â∞ë‰ºöÂç†Áî®2KBÁöÑÂÜÖÂ≠òÂ§ßÂ∞è„ÄÇÂΩìÈïøÊó∂Èó¥ÁöÑÁ¥ØÁßØÔºåÊï∞ÈáèËæÉÂ§ßÊó∂ÔºåÊØîÂ¶ÇÂºÄÂêØ‰∫Ü 100 ‰∏á‰∏™ goroutineÔºåÈÇ£‰πàËá≥Â∞ëÂ∞±‰ºöÂç†Áî®2 GBÁöÑÂÜÖÂ≠ò„ÄÇ</li>
<li>goroutine ‰∏≠ÁöÑÂèòÈáèËã•ÊåáÂêë‰∫ÜÂ†ÜÂÜÖÂ≠òÂå∫ÔºåÈÇ£‰πàÔºåÂΩìËØ• goroutineÊú™Ë¢´ÈîÄÊØÅÔºåÁ≥ªÁªü‰ºöËÆ§‰∏∫ËØ•ÈÉ®ÂàÜÂÜÖÂ≠òËøò‰∏çËÉΩË¢´ÂûÉÂúæÂõûÊî∂ÔºåÈÇ£‰πàÂ∞±ÂèØËÉΩ‰ºöÂç†Áî®Â§ßÈáèÁöÑÂ†ÜÂå∫ÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ</li>
</ul>
<p>goroutine Ê≥ÑÊºèÂ§ßÊ¶ÇÊúâ‰ª•‰∏ãÂú∫ÊôØÔºö</p>
<ol>
<li>‰ªéchannel‰∏≠ËØªÊàñÂÜôÔºå‰ΩÜÊ≤°ÊúâÂØπÂ∫îÁöÑÂÜôÊàñËØª</li>
</ol>
<p>channel ÂàÜ‰∏∫‰∏§ÁßçÁ±ªÂûãÔºåunbuffered channelÂíåbuffered channelÔºåÂÖàËÆ®ËÆ∫unbuffered channel„ÄÇÂú® channel Ë¢´ÂàõÂª∫ÂêéÊú™Ë¢´ÂÖ≥Èó≠ÂâçÔºåÊàë‰ª¨Ëã•‰ªé channel ‰∏≠ËØªÂèñÊï∞ÊçÆÔºå‰ΩÜÂèà‰∏ÄÁõ¥Ê≤°ÊúâÊï∞ÊçÆÂÜôÂÖ• channel ‰∏≠ÔºåÈÇ£‰πà channel Â∞±‰ºöËøõÂÖ•Á≠âÂæÖÁä∂ÊÄÅÔºåÂØπÂ∫îÁöÑ goroutine ‰πüÂ∞±‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÁùÄ‰∫Ü„ÄÇÂØπÂ∫îÁöÑÔºåÂΩìÊàë‰ª¨ÂæÄ channel ‰∏≠ÂÜôÊï∞ÊçÆÔºå‰ΩÜÂèà‰∏ÄÁõ¥Ê≤°Êúâ‰ªé channel ‰∏≠ËØª„ÄÇÈÇ£‰πà‰πü‰ºöÂá∫Áé∞Ë¢´ÈòªÂ°ûÁöÑÊÉÖÂÜµ„ÄÇËá≥‰∫é buffered channelÔºåÂÖ∂ÂÆûÂíå unbuffered channel ÊÉÖÂÜµÊòØÁ±ª‰ººÁöÑÔºåÂè™ÊòØ buffered channel ÊòØËØªÂÆåÁºìÂ≠òÂêéÔºåÊàñÂÜôÂÆåÁºìÂ≠òÂêé‰ºöÂØºËá¥ÈòªÂ°û„ÄÇ</p>
<ol start="2">
<li>Âú®‰ΩøÁî®selectÊó∂ÔºåÊâÄÊúâÁöÑcaseÈÉΩÈòªÂ°û</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">add</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="nx">quit</span> <span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="k">select</span> <span class="p">{</span>
        <span class="k">case</span> <span class="nx">c</span> <span class="o">&lt;-</span> <span class="nx">x</span><span class="p">:</span>
            <span class="nx">x</span> <span class="p">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span>
        <span class="k">case</span> <span class="o">&lt;-</span><span class="nx">quit</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;quit&#34;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">Add</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
    <span class="nx">quit</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>

    <span class="k">go</span> <span class="nf">add</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="nx">quit</span><span class="p">)</span>

    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="nx">c</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">// close(quit)
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ÂΩì Add ÂáΩÊï∞ for Âæ™ÁéØ‰∫Ü 10 Ê¨°‰πãÂêéÔºåadd ÂáΩÊï∞Â∞±‰ºö‰∏ÄÁõ¥ÈòªÂ°û‰∫ÜÔºå‰πüÂ∞±Âá∫Áé∞‰∫Ü goroutine Ê≥ÑÊºè„ÄÇÊ≠£Á°ÆÁöÑÂÅöÊ≥ïÂ∫îËØ•ÊòØÂú®ÂêàÈÄÇÁöÑÊó∂Èó¥Â∞Ü quit ÂÖ≥Èó≠ÔºåÈÇ£‰πà add ÂçèÁ®ãÂ∞±ÂèØ‰ª•ÂÆâÂÖ®ÈÄÄÂá∫‰∫Ü„ÄÇ</p>
<ol start="3">
<li>goroutine ËøõÂÖ•Ê≠ªÂæ™ÁéØ</li>
</ol>
<p>Áî±‰∫é‰ª£Á†ÅÈÄªËæëÁöÑ bugÔºåÂØºËá¥ goroutine ËøõÂÖ•‰∫ÜÊ≠ªÂæ™ÁéØÔºåÂØºËá¥ËµÑÊ∫êÊó†Ê≥ïÈáäÊîæ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;loop&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">go</span> <span class="nf">loop</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>Â¶Ç‰ΩïÈ¢ÑÈò≤ goroutine Ê≥ÑÊºèÂë¢ÔºüËøô‰∏™ÈóÆÈ¢òÂ∞±Ë¶Å‰∫§ÁªôÂºÄÂèëËÄÖËá™Â∑±‰∫ÜÔºåÊØèÂΩìÊàë‰ª¨‰ΩøÁî® goroutine ÊàñËÄÖ channel ÁöÑÊó∂ÂÄôÂ∞±Ë¶ÅÊÉ≥Â•ΩËØ•Â¶Ç‰ΩïÁªìÊùüÊàñÊòØÂ¶Ç‰ΩïÂ∞ÜÂÖ∂ÂÖ≥Èó≠ÔºåÊÉ≥Â•Ω channel ‰ΩïÊó∂ÂèØËÉΩÂá∫Áé∞ÈòªÂ°ûÔºå‰ª•ÂèäÈòªÂ°ûÁöÑÂÖ∑‰ΩìÊÉÖÂÜµÔºåËÄå‰∏îÈÅøÂÖç‰ª•Ê≠ªÂæ™ÁéØÁöÑÈÄªËæëÂÜô‰ª£Á†Å„ÄÇ</p>
<h3 id="Â∏∏ËßÅÂÜÖÂ≠òÈù¢ËØïÈ¢ò">Â∏∏ËßÅÂÜÖÂ≠òÈù¢ËØïÈ¢ò</h3>
<ol>
<li>Golang ÁöÑÂÜÖÂ≠òÊ®°Âûã ( Á±≥ÂìàÊ∏∏ )</li>
</ol>
<p>Â∞ÜÂØπË±°ÂàÜ‰∏∫ÂæÆÂ∞èÂØπË±°„ÄÅÂ∞èÂØπË±°„ÄÅÂ§ßÂØπË±°Ôºå‰ΩøÁî®‰∏âÁ∫ßÁÆ°ÁêÜÁªìÊûÑmcache„ÄÅmcentral„ÄÅmheapÁî®‰∫éÁÆ°ÁêÜ„ÄÅÁºìÂ≠òÂä†ÈÄüspanÂØπË±°ÁöÑËÆøÈóÆÂíåÂàÜÈÖçÔºå‰ΩøÁî®Á≤æÂáÜÁöÑ‰ΩçÂõæÁÆ°ÁêÜÂ∑≤ÂàÜÈÖçÁöÑÂíåÊú™ÂàÜÈÖçÁöÑÂØπË±°ÂèäÂØπË±°ÁöÑÂ§ßÂ∞è„ÄÇ</p>
<p>GoËØ≠Ë®ÄËøêË°åÊó∂‰æùÈù†ÁªÜÂæÆÁöÑÂØπË±°ÂàáÂâ≤„ÄÅÊûÅËá¥ÁöÑÂ§öÁ∫ßÁºìÂ≠ò„ÄÅÁ≤æÂáÜÁöÑ‰ΩçÂõæÁÆ°ÁêÜÂÆûÁé∞‰∫ÜÂØπÂÜÖÂ≠òÁöÑÁ≤æÁªÜÂåñÁÆ°ÁêÜ‰ª•ÂèäÂø´ÈÄüÁöÑÂÜÖÂ≠òËÆøÈóÆÔºåÂêåÊó∂ÂáèÂ∞ë‰∫ÜÂÜÖÂ≠òÁöÑÁ¢éÁâá„ÄÇ</p>
<p>Ê≥®ÔºöÂ¶ÇÊûúÈóÆÁöÑÊ∑±ÂÖ•ÔºåË¶ÅÁ≠îÂõõÁ∫ßÂÜÖÂ≠òÂùóÁÆ°ÁêÜÂíåMheapÁöÑÁºìÂ≠òÊü•Êâæ„ÄÅÂü∫Êï∞Ê†ëÊü•ÊâæÁ≠â</p>
<ol start="2">
<li>ÁÆÄËø∞‰∏Ä‰∏ã GC ÁöÑÂéüÁêÜÔºå‰∏âËâ≤Ê†áËÆ∞Ê≥ïÔºü( bÁ´ô )</li>
</ol>
<ul>
<li>
<p>ÂàùÂßãÂåñÁä∂ÊÄÅ‰∏ãÊâÄÊúâÂØπË±°ÈÉΩÊòØÁôΩËâ≤ÁöÑ„ÄÇ</p>
</li>
<li>
<p>‰ªéÊ†πËäÇÁÇπÂºÄÂßãÈÅçÂéÜÊâÄÊúâÂØπË±°ÔºåÊääÈÅçÂéÜÂà∞ÁöÑÂØπË±°ÂèòÊàêÁÅ∞Ëâ≤ÂØπË±°</p>
</li>
<li>
<p>ÈÅçÂéÜÁÅ∞Ëâ≤ÂØπË±°ÔºåÂ∞ÜÁÅ∞Ëâ≤ÂØπË±°ÂºïÁî®ÁöÑÂØπË±°‰πüÂèòÊàêÁÅ∞Ëâ≤ÂØπË±°ÔºåÁÑ∂ÂêéÂ∞ÜÈÅçÂéÜËøáÁöÑÁÅ∞Ëâ≤ÂØπË±°ÂèòÊàêÈªëËâ≤ÂØπË±°</p>
</li>
<li>
<p>Âæ™ÁéØ‰∏ä‰∏ÄÊ≠•È™§ÔºåÁü•ÈÅìÁÅ∞Ëâ≤ÂØπË±°ÂÖ®ÈÉ®ÂèòÈªëËâ≤„ÄÇ</p>
</li>
<li>
<p>ÈÄöËøáÂÜôÂ±èÈöúÊ£ÄÊµãÂØπË±°ÊúâÂèòÂåñ„ÄÇÈáçÂ§ç‰ª•‰∏äÊìç‰Ωú</p>
</li>
<li>
<p>Êî∂ÈõÜÊâÄÊúâÁöÑÁôΩËâ≤ÂØπË±°ÔºàÂûÉÂúæÔºâ</p>
</li>
</ul>
<ol start="3">
<li>GoÁöÑÂûÉÂúæÂõûÊî∂Ôºå‰ªÄ‰πàÊó∂ÂÄôËß¶ÂèëÔºü( Êª¥Êª¥ )</li>
</ol>
<p>‰∏ªÂä®Ëß¶Âèë(ÊâãÂä®Ëß¶Âèë)ÔºåÈÄöËøáË∞ÉÁî® runtime.GC Êù•Ëß¶Âèë GCÔºåÊ≠§Ë∞ÉÁî®ÈòªÂ°ûÂºèÂú∞Á≠âÂæÖÂΩìÂâç GC ËøêË°åÂÆåÊØï„ÄÇ</p>
<p>Ë¢´Âä®Ëß¶ÂèëÔºåÂàÜ‰∏∫‰∏§ÁßçÊñπÂºèÔºö</p>
<ul>
<li>‰ΩøÁî®Ê≠•Ë∞ÉÔºàPacingÔºâÁÆóÊ≥ïÔºåÂÖ∂Ê†∏ÂøÉÊÄùÊÉ≥ÊòØÊéßÂà∂ÂÜÖÂ≠òÂ¢ûÈïøÁöÑÊØî‰æãÔºåÊØèÊ¨°ÂÜÖÂ≠òÂàÜÈÖçÊó∂Ê£ÄÊü•ÂΩìÂâçÂÜÖÂ≠òÂàÜÈÖçÈáèÊòØÂê¶Â∑≤ËææÂà∞ÈòàÂÄºÔºàÁéØÂ¢ÉÂèòÈáèGoGCÔºâÔºöÈªòËÆ§100%ÔºåÂç≥ÂΩìÂÜÖÂ≠òÊâ©Â§ß‰∏ÄÂÄçÊó∂ÂêØÁî®GC„ÄÇ</li>
<li>‰ΩøÁî®Á≥ªÁªüÁõëÊéßÔºåÂΩìË∂ÖËøá‰∏§ÂàÜÈíüÊ≤°Êúâ‰∫ßÁîü‰ªª‰ΩïGCÊó∂ÔºåÂº∫Âà∂Ëß¶Âèë GC„ÄÇ</li>
</ul>
<ol start="4">
<li>‰ªãÁªç‰∏Ä‰∏ã Go ÁöÑ GC Ôºü( Ê∑±‰ø°Êúç„ÄÅËÖæËÆØ„ÄÅÂ∞èÁ±≥„ÄÅÂ≠¶ËÄåÊÄù„ÄÅAibee„ÄÅÈòøÈáå„ÄÅÂ≠óËäÇË∑≥Âä®„ÄÅÊª¥Êª¥„ÄÅËöÇËöÅ„ÄÅÂø´Êâã„ÄÅÁåøËæÖÂØº„ÄÅShoppe„ÄÅÂìîÂì©ÂìîÂì© )</li>
</ol>
<p>Ê†áËÆ∞Ê∏ÖÈô§:</p>
<p>Ê≠§ÁÆóÊ≥ï‰∏ªË¶ÅÊúâ‰∏§‰∏™‰∏ªË¶ÅÁöÑÊ≠•È™§Ôºö</p>
<p>Ê†áËÆ∞(Mark phase)</p>
<p>Ê∏ÖÈô§(Sweep phase)</p>
<p>Á¨¨‰∏ÄÊ≠•ÔºåÊâæÂá∫‰∏çÂèØËææÁöÑÂØπË±°ÔºåÁÑ∂ÂêéÂÅö‰∏äÊ†áËÆ∞„ÄÇ</p>
<p>Á¨¨‰∫åÊ≠•ÔºåÂõûÊî∂Ê†áËÆ∞Â•ΩÁöÑÂØπË±°„ÄÇ</p>
<p>Êìç‰ΩúÈùûÂ∏∏ÁÆÄÂçïÔºå‰ΩÜÊòØÊúâ‰∏ÄÁÇπÈúÄË¶ÅÈ¢ùÂ§ñÊ≥®ÊÑèÔºömark and sweep ÁÆóÊ≥ïÂú®ÊâßË°åÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÁ®ãÂ∫èÊöÇÂÅúÔºÅÂç≥ stop the world„ÄÇ</p>
<p>‰πüÂ∞±ÊòØËØ¥ÔºåËøôÊÆµÊó∂Èó¥Á®ãÂ∫è‰ºöÂç°Âú®Âì™ÂÑø„ÄÇÊïÖ‰∏≠ÊñáÁøªËØëÊàê Âç°È°ø.</p>
<p>Ê†áËÆ∞-Ê∏ÖÊâ´(Mark And Sweep)ÁÆóÊ≥ïÂ≠òÂú®‰ªÄ‰πàÈóÆÈ¢òÔºü</p>
<p>Ê†áËÆ∞-Ê∏ÖÊâ´(Mark And Sweep)ÁÆóÊ≥ïËøôÁßçÁÆóÊ≥ïËôΩÁÑ∂ÈùûÂ∏∏ÁöÑÁÆÄÂçïÔºå‰ΩÜÊòØËøòÂ≠òÂú®‰∏Ä‰∫õÈóÆÈ¢òÔºö</p>
<p>STWÔºåstop the worldÔºõËÆ©Á®ãÂ∫èÊöÇÂÅúÔºåÁ®ãÂ∫èÂá∫Áé∞Âç°È°ø„ÄÇ</p>
<p>Ê†áËÆ∞ÈúÄË¶ÅÊâ´ÊèèÊï¥‰∏™heap</p>
<p>Ê∏ÖÈô§Êï∞ÊçÆ‰ºö‰∫ßÁîüheapÁ¢éÁâá</p>
<p>ËøôÈáåÈù¢ÊúÄÈáçË¶ÅÁöÑÈóÆÈ¢òÂ∞±ÊòØÔºömark-and-sweep ÁÆóÊ≥ï‰ºöÊöÇÂÅúÊï¥‰∏™Á®ãÂ∫è„ÄÇ</p>
<p>‰∏âËâ≤Âπ∂ÂèëÊ†áËÆ∞Ê≥ï:</p>
<ul>
<li>È¶ñÂÖàÔºöÁ®ãÂ∫èÂàõÂª∫ÁöÑÂØπË±°ÈÉΩÊ†áËÆ∞‰∏∫ÁôΩËâ≤„ÄÇ</li>
<li>gcÂºÄÂßãÔºöÊâ´ÊèèÊâÄÊúâÂèØÂà∞ËææÁöÑÂØπË±°ÔºåÊ†áËÆ∞‰∏∫ÁÅ∞Ëâ≤</li>
<li>‰ªéÁÅ∞Ëâ≤ÂØπË±°‰∏≠ÊâæÂà∞ÂÖ∂ÂºïÁî®ÂØπË±°Ê†áËÆ∞‰∏∫ÁÅ∞Ëâ≤ÔºåÊääÁÅ∞Ëâ≤ÂØπË±°Êú¨Ë∫´Ê†áËÆ∞‰∏∫ÈªëËâ≤</li>
<li>ÁõëËßÜÂØπË±°‰∏≠ÁöÑÂÜÖÂ≠ò‰øÆÊîπÔºåÂπ∂ÊåÅÁª≠‰∏ä‰∏ÄÊ≠•ÁöÑÊìç‰ΩúÔºåÁõ¥Âà∞ÁÅ∞Ëâ≤Ê†áËÆ∞ÁöÑÂØπË±°‰∏çÂ≠òÂú®</li>
<li>Ê≠§Êó∂ÔºågcÂõûÊî∂ÁôΩËâ≤ÂØπË±°</li>
<li>ÊúÄÂêéÔºåÂ∞ÜÊâÄÊúâÈªëËâ≤ÂØπË±°Âèò‰∏∫ÁôΩËâ≤ÔºåÂπ∂ÈáçÂ§ç‰ª•‰∏äÊâÄÊúâËøáÁ®ã„ÄÇ</li>
</ul>
<p>Ê∑∑ÂêàÂÜôÂ±èÈöú:</p>
<p>ÂΩìgcËøõË°å‰∏≠Êó∂ÔºåÊñ∞ÂàõÂª∫‰∏Ä‰∏™ÂØπË±°ÔºåÊåâÁÖß‰∏âËâ≤Ê†áËÆ∞Ê≥ïÁöÑÊ≠•È™§ÔºåÂØπË±°‰ºöË¢´Ê†áËÆ∞‰∏∫ÁôΩËâ≤,ËøôÊ†∑Êñ∞ÁîüÊàêÁöÑÂØπË±°ÊúÄÂêé‰ºöË¢´Ê∏ÖÈô§ÊéâÔºåËøôÊ†∑‰ºöÂΩ±ÂìçÁ®ãÂ∫èÈÄªËæë.</p>
<p>golangÂºïÂÖ•ÂÜôÂ±èÈöúÊú∫Âà∂.ÂèØ‰ª•ÁõëÊéßÂØπË±°ÁöÑÂÜÖÂ≠ò‰øÆÊîπÔºåÂπ∂ÂØπÂØπË±°ËøõË°åÈáçÊñ∞Ê†áËÆ∞.</p>
<p>gc‰∏ÄÊó¶ÂºÄÂßãÔºåÊó†ËÆ∫ÊòØÂàõÂª∫ÂØπË±°ËøòÊòØÂØπË±°ÁöÑÂºïÁî®ÊîπÂèòÔºåÈÉΩ‰ºöÂÖàÂèò‰∏∫ÁÅ∞Ëâ≤„ÄÇ</p>
<ol start="5">
<li>‰ªãÁªç‰∏Ä‰∏ãÈÄÉÈÄ∏ÂàÜÊûêÔºü‰∏∫‰ªÄ‰πàË¶ÅÈÄÉÈÄ∏ÂàÜÊûêÔºüÂ∏∏ËßÅÁöÑÈÄÉÈÄ∏Á±ªÂûãÔºüGo ‰∏≠ÁöÑÈÄÉÈÄ∏ÂáÜÂàô ( ÁôæÂ∫¶„ÄÅÂìîÂì©ÂìîÂì©„ÄÅÂ≠óËäÇË∑≥Âä®„ÄÅËöÇËöÅ„ÄÅÁΩëÊòì„ÄÅÈòøÈáå )</li>
</ol>
<p>‰∏∫‰ªÄ‰πàÈúÄË¶ÅÔºöÈÄöËøáÈÄÉÈÄ∏ÂàÜÊûêÔºåÈÇ£‰∫õ‰∏çÈúÄË¶ÅÂàÜÈÖçÂà∞Â†Ü‰∏äÁöÑÂèòÈáèÁõ¥Êé•ÂàÜÈÖçÂà∞Ê†à‰∏äÔºåÂ†Ü‰∏äÁöÑÂèòÈáèÂ∞ë‰∫Ü‰∏ç‰ΩÜÂêåÊó∂ÂáèÂ∞ë GC ÁöÑÂéãÂäõÔºåËøòÂáèËΩª‰∫ÜÂÜÖÂ≠òÂàÜÈÖçÁöÑÂºÄÈîÄ„ÄÇ</p>
<p>Â∏∏ËßÅÁöÑÁ±ªÂûãÔºöfunc Âíå interface Êï∞ÊçÆÁ±ªÂûãÔºåchannel ÊàñËÄÖÊ†àÁ©∫Èó¥‰∏çË∂≥ÈÄÉÈÄ∏„ÄÇ</p>
<p>ÂáÜÂàôÔºöÂ¶ÇÊûúÂáΩÊï∞Â§ñÈÉ®Ê≤°ÊúâÂºïÁî®ÔºåÂàô‰ºòÂÖàÊîæÂà∞Ê†à‰∏≠ÔºõÂ¶ÇÊûúÂáΩÊï∞Â§ñÈÉ®Â≠òÂú®ÂºïÁî®ÔºåÂàôÂøÖÂÆöÊîæÂà∞Â†Ü‰∏≠;</p>
<ol start="6">
<li>Â¶Ç‰ΩïÈÅøÂÖçÂÜÖÂ≠òÈÄÉÈÄ∏Ôºü( ÂìîÂì©ÂìîÂì©„ÄÅËöÇËöÅ )</li>
</ol>
<ul>
<li>‰∏çË¶ÅÁõ≤ÁõÆ‰ΩøÁî®ÂèòÈáèÊåáÈíà‰Ωú‰∏∫ÂèÇÊï∞ÔºåËôΩÁÑ∂ÂáèÂ∞ë‰∫ÜÂ§çÂà∂Ôºå‰ΩÜÂèòÈáèÈÄÉÈÄ∏ÁöÑÂºÄÈîÄÊõ¥Â§ß„ÄÇ</li>
<li>È¢ÑÂÖàËÆæÂÆöÂ•ΩsliceÈïøÂ∫¶ÔºåÈÅøÂÖçÈ¢ëÁπÅË∂ÖÂá∫ÂÆπÈáèÔºåÈáçÊñ∞ÂàÜÈÖç„ÄÇ</li>
<li>‰∏Ä‰∏™ÁªèÈ™åÊòØÔºåÊåáÈíàÊåáÂêëÁöÑÊï∞ÊçÆÂ§ßÈÉ®ÂàÜÂú®Â†Ü‰∏äÂàÜÈÖçÁöÑÔºåËØ∑Ê≥®ÊÑè„ÄÇ</li>
</ul>
<p>Âá∫Áé∞ÂÜÖÂ≠òÈÄÉÈÄ∏ÁöÑÊÉÖÂÜµÊúâÔºö</p>
<ul>
<li>
<p>ÂèëÈÄÅÊåáÈíàÊàñÂ∏¶ÊúâÊåáÈíàÁöÑÂÄºÂà∞channelÔºåÂõ†‰∏∫ÁºñËØëÊó∂ÂÄôÊó†Ê≥ïÁü•ÈÅìÈÇ£‰∏™goroutine‰ºöÂú®channelÊé•ÂèóÊï∞ÊçÆÔºåÁºñËØëÂô®Êó†Ê≥ïÁü•ÈÅì‰ªÄ‰πàÊó∂ÂÄôÈáäÊîæ„ÄÇ</p>
</li>
<li>
<p>Âú®‰∏Ä‰∏™ÂàáÁâá‰∏äÂ≠òÂÇ®ÊåáÈíàÊàñÂ∏¶ÊåáÈíàÁöÑÂÄº„ÄÇÊØîÂ¶Ç[]*stringÔºåÂØºËá¥ÂàáÁâáÂÜÖÂÆπÈÄÉÈÄ∏ÔºåÂÖ∂ÂºïÁî®ÂÄº‰∏ÄÁõ¥Âú®Â†Ü‰∏ä„ÄÇ</p>
</li>
<li>
<p>ÂàáÁâáÁöÑappendÂØºËá¥Ë∂ÖÂá∫ÂÆπÈáèÔºåÂàáÁâáÈáçÊñ∞ÂàÜÈÖçÂú∞ÂùÄÔºåÂàáÁâáËÉåÂêéÁöÑÂ≠òÂÇ®Âü∫‰∫éËøêË°åÊó∂ÁöÑÊï∞ÊçÆËøõË°åÊâ©ÂÖÖÔºåÂ∞±‰ºöÂú®Â†Ü‰∏äÂàÜÈÖç„ÄÇ</p>
</li>
<li>
<p>Ë∞ÉÁî®Êé•Âè£Á±ªÂûãÊó∂ÔºåÊé•Âè£Á±ªÂûãÁöÑÊñπÊ≥ïË∞ÉÁî®ÊòØÂä®ÊÄÅË∞ÉÂ∫¶ÔºåÂÆûÈôÖ‰ΩøÁî®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞Âè™ËÉΩÂú®ËøêË°åÊó∂Á°ÆÂÆöÔºåÂ¶Ç‰∏Ä‰∏™Êé•Âè£Á±ªÂûã‰∏∫io.ReaderÁöÑÂèòÈáèrÔºåÂØπr.Read(b)ÁöÑË∞ÉÁî®Â∞ÜÂØºËá¥rÁöÑÂÄºÂíåÂ≠óËäÇÁâábÁöÑÂêéÁª≠ËΩ¨‰πâÂπ∂Âõ†Ê≠§ÂàÜÈÖçÂà∞Â†Ü‰∏ä„ÄÇ</p>
</li>
<li>
<p>Âú®ÊñπÊ≥ïÂÜÖÊääÂ±ÄÈÉ®ÂèòÈáèÊåáÈíàËøîÂõûÔºåË¢´Â§ñÈÉ®ÂºïÁî®ÔºåÂÖ∂ÁîüÂëΩÂë®ÊúüÂ§ß‰∫éÊ†àÔºåÂØºËá¥ÂÜÖÂ≠òÊ∫¢Âá∫„ÄÇ</p>
</li>
</ul>
<hr>
<p>‚ÄÉ‚ÄÉOKÔºÅ‰ª•‰∏äÂ∞±ÊòØÂØπ‰∫éÂÜÖÂ≠òÈÉ®ÂàÜÁöÑÊµÖÊòæËØ¥ÊòéÔºåÊàëÊòØÂ∞ÜÂæàÂ§öÂ§ßÁâõÁöÑÊñáÁ´†ÂÜÖÂÆπËÆ©Ëá™Â∑±ÁêÜËß£ÁöÑÊõ¥Â•ΩÂÅö‰∫ÜÊÄªÁªìÔºåÂ¶ÇÊúâÈóÆÈ¢òÂèØ‰ª•ËÅîÁ≥ªÊàëËøõË°å‰øÆÊîπÂíåËÆ®ËÆ∫„ÄÇ
‚ÄÉ‚ÄÉLife is fantastic !</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/go/">go</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css"integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js"integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js"integrity="sha384-vZTG03m&#43;2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ]
        });})
</script>
    
</article>

    

    

<aside class="related-contents--wrapper">
    <h2 class="section-title">Related contents</h2>
    <div class="related-contents">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/httprule/">
        
        
            <div class="article-image">
                <img src="/p/httprule/grpcgooleapi.62bc510bf1299e457a0fd86d5813a11c_hu76928c90444e9d8bd04a53b1f2bdf9cc_731648_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post gRPC-google.apiÁöÑHttpRule‰ªãÁªç"
                        data-key="httprule" 
                        data-hash="md5-YrxRC/EpnkV6D9htWBOhHA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">gRPC-google.apiÁöÑHttpRule‰ªãÁªç</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/memory-alignment/">
        
        
            <div class="article-image">
                <img src="/p/memory-alignment/memoryalignment.cf5bdaf3e8024a4ec58c5ab91f7efffa_hu02570da8dff591db14e92b986bdd1dc3_682341_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post GoËØ≠Ë®Ä‚Äî‚ÄîÂÜÖÂ≠òÂØπÈΩê"
                        data-key="memory-alignment" 
                        data-hash="md5-z1va8&#43;gCSk7FjFq5H37/&#43;g==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">GoËØ≠Ë®Ä‚Äî‚ÄîÂÜÖÂ≠òÂØπÈΩê</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/map/">
        
        
            <div class="article-image">
                <img src="/p/map/gomap.c14fa8e9b6a98316f81135a702615a97_hueb06b1d9a0d79dfdcc90f95f1ba3b9ea_886458_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post GoËØ≠Ë®Ä‚Äî‚ÄîMapÁöÑÂ∫ïÂ±Ç‰ªãÁªçÂèäÊâ©Áº©ÂÆπÊú∫Âà∂"
                        data-key="map" 
                        data-hash="md5-wU&#43;o6bapgxb4ETWnAmFalw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">GoËØ≠Ë®Ä‚Äî‚ÄîMapÁöÑÂ∫ïÂ±Ç‰ªãÁªçÂèäÊâ©Áº©ÂÆπÊú∫Âà∂</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/defer/">
        
        
            <div class="article-image">
                <img src="/p/defer/godefer.ccf184477fdc8cc6059d4d2ec505e01e_hu7e4671ba8c4acd05ae2c2aa9b1ac6fe3_177012_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post GoËØ≠Ë®Ä‚Äî‚ÄîÂª∂ËøüÂáΩÊï∞deferÁöÑ‰ΩøÁî®"
                        data-key="defer" 
                        data-hash="md5-zPGER3/cjMYFnU0uxQXgHg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">GoËØ≠Ë®Ä‚Äî‚ÄîÂª∂ËøüÂáΩÊï∞deferÁöÑ‰ΩøÁî®</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/slice/">
        
        
            <div class="article-image">
                <img src="/p/slice/goslice.3df9ec6a4a7200a05eedc5bd83b9af7a_hu1b4159d9ef01abf89b1c5b948d41a0fb_1054267_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post GoËØ≠Ë®Ä‚Äî‚ÄîÂàáÁâá(Slice)ÁöÑÂùë"
                        data-key="slice" 
                        data-hash="md5-PfnsakpyAKBe7cW9g7mveg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">GoËØ≠Ë®Ä‚Äî‚ÄîÂàáÁâá(Slice)ÁöÑÂùë</h2>
        </div>
    </a>
</article>
            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (DISQUS) {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2022 Zonzee Li üë®‚Äçüíª
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.11.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#ÂâçË®Ä">ÂâçË®Ä</a>
      <ol>
        <li><a href="#ÂÜÖÂ≠òÂØπÈΩê">ÂÜÖÂ≠òÂØπÈΩê</a>
          <ol>
            <li><a href="#ÂÜÖÂ≠òÂØπÈΩêËßÑÂàô">ÂÜÖÂ≠òÂØπÈΩêËßÑÂàô</a></li>
          </ol>
        </li>
        <li><a href="#ÂÜÖÂ≠òÂàÜÈÖç">ÂÜÖÂ≠òÂàÜÈÖç</a>
          <ol>
            <li><a href="#Âü∫Á°ÄÊ¶ÇÂøµ">Âü∫Á°ÄÊ¶ÇÂøµ</a></li>
            <li><a href="#Â∞è‰∫é-32-kb-ÂÜÖÂ≠òÂùóÁöÑÂàÜÈÖçÁ≠ñÁï•">Â∞è‰∫é 32 KB ÂÜÖÂ≠òÂùóÁöÑÂàÜÈÖçÁ≠ñÁï•</a></li>
            <li><a href="#Â§ß‰∫é-32-kb-ÂÜÖÂ≠òÂùóÁöÑÂÜÖÂ≠òÂàÜÈÖç">Â§ß‰∫é 32 KB ÂÜÖÂ≠òÂùóÁöÑÂÜÖÂ≠òÂàÜÈÖç</a></li>
          </ol>
        </li>
        <li><a href="#ÈÄÉÈÄ∏ÂàÜÊûê">ÈÄÉÈÄ∏ÂàÜÊûê</a></li>
        <li><a href="#ÂûÉÂúæÂõûÊî∂">ÂûÉÂúæÂõûÊî∂</a>
          <ol>
            <li><a href="#‰∏âËâ≤Ê†áËÆ∞Ê≥ï">‰∏âËâ≤Ê†áËÆ∞Ê≥ï</a></li>
            <li><a href="#ÂÜôÂ±èÈöú">ÂÜôÂ±èÈöú</a></li>
            <li><a href="#‰∏âËâ≤‰∏çÂèòÊÄß">‰∏âËâ≤‰∏çÂèòÊÄß</a></li>
            <li><a href="#Â±èÈöúÊäÄÊúØ">Â±èÈöúÊäÄÊúØ</a></li>
            <li><a href="#go-ÁöÑÊ∑∑ÂêàÂÜôÂ±èÈöú">Go ÁöÑÊ∑∑ÂêàÂÜôÂ±èÈöú</a></li>
            <li><a href="#‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑgcËøáÁ®ã">‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑGCËøáÁ®ã</a></li>
          </ol>
        </li>
        <li><a href="#ÂÜÖÂ≠òÊ≥ÑÊºè">ÂÜÖÂ≠òÊ≥ÑÊºè</a>
          <ol>
            <li><a href="#ÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÂ∏∏ËßÅÂú∫ÊôØ">ÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÂ∏∏ËßÅÂú∫ÊôØ</a></li>
            <li><a href="#goroutineÊ≥ÑÊºè">GoroutineÊ≥ÑÊºè</a></li>
          </ol>
        </li>
        <li><a href="#Â∏∏ËßÅÂÜÖÂ≠òÈù¢ËØïÈ¢ò">Â∏∏ËßÅÂÜÖÂ≠òÈù¢ËØïÈ¢ò</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
